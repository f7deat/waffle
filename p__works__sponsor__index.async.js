"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6327],{85335:function(F,c,e){var v=e(15009),r=e.n(v),L=e(99289),p=e.n(L),j=e(66352),C=e(93410),W=e(34994),l=e(5966),g=e(63434),x=e(35312),R=e(68872),T=e(67294),i=e(85893),y=function(){var A=(0,x.useParams)(),m=A.id,I=(0,T.useRef)();(0,T.useEffect)(function(){(0,j.Mk)(m).then(function(f){var d;(d=I.current)===null||d===void 0||d.setFields([{name:"name",value:f.name},{name:"active",value:f.active}])})},[m]);var b=function(){var f=p()(r()().mark(function d(B){var P;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,j.Qb)(B);case 2:P=_.sent,P.succeeded?R.ZP.success("Saved!"):R.ZP.error(P.errors[0].description);case 4:case"end":return _.stop()}},d)}));return function(B){return f.apply(this,arguments)}}();return(0,i.jsx)(C.Z,{title:"Info",children:(0,i.jsxs)(W.A,{formRef:I,onFinish:b,children:[(0,i.jsx)(l.Z,{hidden:!0,name:"id",initialValue:m}),(0,i.jsx)(l.Z,{name:"name",label:"Name"}),(0,i.jsx)(g.Z,{name:"active",label:"Active"})]})})};c.Z=y},91936:function(F,c,e){e.r(c);var v=e(15009),r=e.n(v),L=e(99289),p=e.n(L),j=e(5574),C=e.n(j),W=e(85335),l=e(66352),g=e(89575),x=e(82061),R=e(51042),T=e(63386),i=e(62763),y=e(37476),U=e(5966),A=e(35312),m=e(68872),I=e(78957),b=e(7134),f=e(86738),d=e(14726),B=e(71230),P=e(15746),h=e(67294),_=e(85893),H=function(){var V=(0,A.useParams)(),D=V.id,z=(0,h.useState)([]),$=C()(z,2),Z=$[0],K=$[1],Q=(0,h.useState)(!1),G=C()(Q,2),Y=G[0],S=G[1],J=(0,h.useState)(!0),N=C()(J,2),X=N[0],w=N[1];(0,h.useEffect)(function(){D&&(0,l.Tu)(D).then(function(t){K(t.brands||[]),w(!1)})},[D]);var k=function(){var t=p()(r()().mark(function a(n){var s,o,M,u;return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return s=Z,n.id?(o=s.findIndex(function(ne){return ne.id===n.id}),s[o].name=n.name,s[o].url=n.url,s[o].logo=n.logo):(n.id=(0,g.k)(),s||(s=[]),s.push(n)),M={brands:s},E.next=5,(0,l.iH)(D,M);case 5:u=E.sent,u.succeeded&&(K(s),m.ZP.success("Saved!"),S(!1));case 7:case"end":return E.stop()}},a)}));return function(n){return t.apply(this,arguments)}}(),q=function(){var t=p()(r()().mark(function a(n){var s,o,M;return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=Z.filter(function(E){return E.id!==n.id}),o={brands:s},O.next=4,(0,l.iH)(D,o);case 4:M=O.sent,M.succeeded&&(K(s),m.ZP.success("Deleted!"));case 6:case"end":return O.stop()}},a)}));return function(n){return t.apply(this,arguments)}}(),ee=[{title:"#",dataIndex:"sort",className:"drag-visible",search:!1},{title:"Name",dataIndex:"name",render:function(a,n){return(0,_.jsxs)(I.Z,{children:[(0,_.jsx)(b.C,{src:n.logo}),a]})}},{title:"Url",dataIndex:"url"},{title:"Action",valueType:"option",render:function(a,n){return[(0,_.jsx)(f.Z,{title:"Are you sure?",onConfirm:function(){return q(n)},children:(0,_.jsx)(d.ZP,{icon:(0,_.jsx)(x.Z,{}),danger:!0,type:"primary"})},4)]}}],_e=function(){var t=p()(r()().mark(function a(n){var s,o;return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return s={brands:n},u.next=3,(0,l.iH)(D,s);case 3:o=u.sent,o.succeeded&&(K(n),m.ZP.success("Saved!"));case 5:case"end":return u.stop()}},a)}));return function(n){return t.apply(this,arguments)}}();return(0,_.jsxs)(T._z,{children:[(0,_.jsxs)(B.Z,{gutter:16,children:[(0,_.jsx)(P.Z,{span:16,children:(0,_.jsx)(i.Z,{toolBarRender:function(){return[(0,_.jsx)(d.ZP,{icon:(0,_.jsx)(R.Z,{}),type:"link",onClick:function(){return S(!0)}},"add")]},dataSource:Z,columns:ee,search:{layout:"vertical"},rowKey:"id",dragSortKey:"sort",loading:X,onDragSortEnd:_e})}),(0,_.jsx)(P.Z,{span:8,children:(0,_.jsx)(W.Z,{})})]}),(0,_.jsxs)(y.Y,{onFinish:k,open:Y,onOpenChange:S,title:(0,_.jsx)(A.FormattedMessage,{id:"menu.component.sponsor"}),children:[(0,_.jsx)(U.Z,{name:"id",label:"Id",disabled:!0}),(0,_.jsx)(U.Z,{name:"name",label:"Name"}),(0,_.jsx)(U.Z,{name:"logo",label:"Logo"}),(0,_.jsx)(U.Z,{name:"url",label:"Url"})]})]})};c.default=H},89575:function(F,c,e){e.d(c,{k:function(){return v}});function v(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(r){return(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)})}}}]);
