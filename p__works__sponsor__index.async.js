"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6327],{85335:function(F,c,e){var v=e(15009),r=e.n(v),L=e(99289),j=e.n(L),C=e(66352),p=e(93410),W=e(34994),i=e(5966),g=e(63434),x=e(35312),T=e(68872),A=e(67294),u=e(85893),y=function(){var I=(0,x.useParams)(),m=I.id,B=(0,A.useRef)();(0,A.useEffect)(function(){(0,C.Mk)(m).then(function(f){var d;(d=B.current)===null||d===void 0||d.setFields([{name:"name",value:f.name},{name:"active",value:f.active}])})},[m]);var b=function(){var f=j()(r()().mark(function d(U){var P;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.Qb)(U);case 2:P=n.sent,P.succeeded?T.ZP.success("Saved!"):T.ZP.error(P.errors[0].description);case 4:case"end":return n.stop()}},d)}));return function(U){return f.apply(this,arguments)}}();return(0,u.jsx)(p.Z,{title:"Info",children:(0,u.jsxs)(W.A,{formRef:B,onFinish:b,children:[(0,u.jsx)(i.Z,{hidden:!0,name:"id",initialValue:m}),(0,u.jsx)(i.Z,{name:"name",label:"Name"}),(0,u.jsx)(g.Z,{name:"active",label:"Active"})]})})};c.Z=y},91936:function(F,c,e){e.r(c);var v=e(15009),r=e.n(v),L=e(99289),j=e.n(L),C=e(5574),p=e.n(C),W=e(85335),i=e(66352),g=e(89575),x=e(82061),T=e(51042),A=e(63386),u=e(62763),y=e(37476),h=e(5966),I=e(35312),m=e(68872),B=e(78957),b=e(7134),f=e(86738),d=e(14726),U=e(71230),P=e(15746),R=e(67294),n=e(85893),H=function(){var V=(0,I.useParams)(),D=V.id,z=(0,R.useState)([]),$=p()(z,2),Z=$[0],K=$[1],Q=(0,R.useState)(!1),G=p()(Q,2),Y=G[0],S=G[1],J=(0,R.useState)(!0),N=p()(J,2),X=N[0],w=N[1];(0,R.useEffect)(function(){D&&(0,i.Tu)(D).then(function(t){K(t.brands||[]),w(!1)})},[D]);var k=function(){var t=j()(r()().mark(function a(_){var s,o,M,l;return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return s=Z,_.id?(o=s.findIndex(function(_e){return _e.id===_.id}),s[o].name=_.name,s[o].url=_.url,s[o].logo=_.logo):(_.id=(0,g.k)(),s||(s=[]),s.push(_)),M={brands:s},E.next=5,(0,i.iH)(D,M);case 5:l=E.sent,l.succeeded&&(K(s),m.ZP.success("Saved!"),S(!1));case 7:case"end":return E.stop()}},a)}));return function(_){return t.apply(this,arguments)}}(),q=function(){var t=j()(r()().mark(function a(_){var s,o,M;return r()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=Z.filter(function(E){return E.id!==_.id}),o={brands:s},O.next=4,(0,i.iH)(D,o);case 4:M=O.sent,M.succeeded&&(K(s),m.ZP.success("Deleted!"));case 6:case"end":return O.stop()}},a)}));return function(_){return t.apply(this,arguments)}}(),ee=[{title:"#",dataIndex:"sort",className:"drag-visible",search:!1},{title:"Name",dataIndex:"name",render:function(a,_){return(0,n.jsxs)(B.Z,{children:[(0,n.jsx)(b.C,{src:_.logo}),a]})}},{title:"Url",dataIndex:"url"},{title:"Action",valueType:"option",render:function(a,_){return[(0,n.jsx)(f.Z,{title:"Are you sure?",onConfirm:function(){return q(_)},children:(0,n.jsx)(d.ZP,{icon:(0,n.jsx)(x.Z,{}),danger:!0,type:"primary"})},4)]}}],ne=function(){var t=j()(r()().mark(function a(_){var s,o;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s={brands:_},l.next=3,(0,i.iH)(D,s);case 3:o=l.sent,o.succeeded&&(K(_),m.ZP.success("Saved!"));case 5:case"end":return l.stop()}},a)}));return function(_){return t.apply(this,arguments)}}();return(0,n.jsxs)(A._z,{children:[(0,n.jsxs)(U.Z,{gutter:16,children:[(0,n.jsx)(P.Z,{span:16,children:(0,n.jsx)(u.Z,{toolBarRender:function(){return[(0,n.jsx)(d.ZP,{icon:(0,n.jsx)(T.Z,{}),type:"link",onClick:function(){return S(!0)}},"add")]},dataSource:Z,columns:ee,search:{layout:"vertical"},rowKey:"id",dragSortKey:"sort",loading:X,onDragSortEnd:ne})}),(0,n.jsx)(P.Z,{span:8,children:(0,n.jsx)(W.Z,{})})]}),(0,n.jsxs)(y.Y,{onFinish:k,open:Y,onOpenChange:S,title:(0,n.jsx)(I.FormattedMessage,{id:"menu.component.sponsor"}),children:[(0,n.jsx)(h.Z,{name:"id",label:"Id",disabled:!0}),(0,n.jsx)(h.Z,{name:"name",label:"Name"}),(0,n.jsx)(h.Z,{name:"logo",label:"Logo"}),(0,n.jsx)(h.Z,{name:"url",label:"Url"})]})]})};c.default=H},89575:function(F,c,e){e.d(c,{k:function(){return v}});function v(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(r){return(r^crypto.getRandomValues(new Uint8Array(1))[0]&15>>r/4).toString(16)})}}}]);
