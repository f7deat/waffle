"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4302],{1912:function(Z,E,e){e.d(E,{Z:function(){return m}});var d=e(1413),n=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},h=O,g=e(91146),u=function(c,j){return n.createElement(g.Z,(0,d.Z)((0,d.Z)({},c),{},{ref:j,icon:h}))},o=n.forwardRef(u),m=o},16596:function(Z,E,e){e.d(E,{Z:function(){return m}});var d=e(1413),n=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},h=O,g=e(91146),u=function(c,j){return n.createElement(g.Z,(0,d.Z)((0,d.Z)({},c),{},{ref:j,icon:h}))},o=n.forwardRef(u),m=o},47389:function(Z,E,e){var d=e(1413),n=e(67294),O=e(27363),h=e(91146),g=function(m,t){return n.createElement(h.Z,(0,d.Z)((0,d.Z)({},m),{},{ref:t,icon:O.Z}))},u=n.forwardRef(g);E.Z=u},64082:function(Z,E,e){e.d(E,{Z:function(){return m}});var d=e(1413),n=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},h=O,g=e(91146),u=function(c,j){return n.createElement(g.Z,(0,d.Z)((0,d.Z)({},c),{},{ref:j,icon:h}))},o=n.forwardRef(u),m=o},90672:function(Z,E,e){var d=e(1413),n=e(91),O=e(67294),h=e(53287),g=e(85893),u=["fieldProps","proFieldProps"],o=function(t,c){var j=t.fieldProps,b=t.proFieldProps,M=(0,n.Z)(t,u);return(0,g.jsx)(h.Z,(0,d.Z)({ref:c,valueType:"textarea",fieldProps:j,proFieldProps:b},M))};E.Z=O.forwardRef(o)},5966:function(Z,E,e){var d=e(97685),n=e(1413),O=e(91),h=e(21770),g=e(8232),u=e(55241),o=e(97435),m=e(67294),t=e(53287),c=e(85893),j=["fieldProps","proFieldProps"],b=["fieldProps","proFieldProps"],M="text",S=function(i){var s=i.fieldProps,P=i.proFieldProps,D=(0,O.Z)(i,j);return(0,c.jsx)(t.Z,(0,n.Z)({valueType:M,fieldProps:s,filedConfig:{valueType:M},proFieldProps:P},D))},y=function(i){var s=(0,h.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),P=(0,d.Z)(s,2),D=P[0],T=P[1];return(0,c.jsx)(g.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(x){var a,f=x.getFieldValue(i.name||[]);return(0,c.jsx)(u.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return T(r)},content:(0,c.jsxs)("div",{style:{padding:"4px 0"},children:[(a=i.statusRender)===null||a===void 0?void 0:a.call(i,f),i.strengthText?(0,c.jsx)("div",{style:{marginTop:10},children:(0,c.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},i.popoverProps),{},{open:D,children:i.children}))}})},F=function(i){var s=i.fieldProps,P=i.proFieldProps,D=(0,O.Z)(i,b),T=(0,m.useState)(!1),A=(0,d.Z)(T,2),x=A[0],a=A[1];return s!=null&&s.statusRender&&D.name?(0,c.jsx)(y,{name:D.name,statusRender:s==null?void 0:s.statusRender,popoverProps:s==null?void 0:s.popoverProps,strengthText:s==null?void 0:s.strengthText,open:x,onOpenChange:a,children:(0,c.jsx)("div",{children:(0,c.jsx)(t.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,o.Z)(s,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(l){var r;s==null||(r=s.onBlur)===null||r===void 0||r.call(s,l),a(!1)},onClick:function(l){var r;s==null||(r=s.onClick)===null||r===void 0||r.call(s,l),a(!0)}}),proFieldProps:P,filedConfig:{valueType:M}},D))})}):(0,c.jsx)(t.Z,(0,n.Z)({valueType:"password",fieldProps:s,proFieldProps:P,filedConfig:{valueType:M}},D))},_=S;_.Password=F,_.displayName="ProFormComponent",E.Z=_},1913:function(Z,E,e){var d=e(15009),n=e.n(d),O=e(99289),h=e.n(O),g=e(5574),u=e.n(g),o=e(20385),m=e(64082),t=e(16596),c=e(78367),j=e(68872),b=e(17788),M=e(14726),S=e(96074),y=e(55102),F=e(67294),_=e(85893),W=c.Z.Dragger,i=function(P){var D=(0,F.useState)(""),T=u()(D,2),A=T[0],x=T[1];function a(r){var p;try{p=new URL(r)}catch(R){return!1}return p.protocol==="https:"}var f=function(){var r=h()(n()().mark(function p(R){var I;return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(a(R)){v.next=3;break}return j.ZP.error("Sorry, URL failed to upload."),v.abrupt("return");case 3:return v.next=5,(0,o.tg)(R);case 5:I=v.sent,I.succeeded&&j.ZP.success("Uploaded!");case 7:case"end":return v.stop()}},p)}));return function(R){return r.apply(this,arguments)}}(),l=function(){var r=h()(n()().mark(function p(){return n()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(a(A)){I.next=3;break}return j.ZP.error("Sorry, URL failed to upload."),I.abrupt("return");case 3:P.onFinish(A),P.onCancel();case 5:case"end":return I.stop()}},p)}));return function(){return r.apply(this,arguments)}}();return(0,_.jsxs)(b.Z,{open:P.open,onCancel:function(){return P.onCancel()},centered:!0,title:"Upload",onOk:l,children:[(0,_.jsx)("div",{className:"mb-4",children:(0,_.jsxs)(W,{children:[(0,_.jsx)("p",{className:"ant-upload-drag-icon",children:(0,_.jsx)(m.Z,{})}),(0,_.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,_.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,_.jsx)("div",{className:"text-center",children:(0,_.jsx)(M.ZP,{icon:(0,_.jsx)(t.Z,{}),type:"link",size:"large",children:(0,_.jsx)("b",{children:"Choose from your computer"})})}),(0,_.jsx)(S.Z,{children:"or"}),(0,_.jsx)(y.Z,{placeholder:"Paste image or URL",onChange:function(p){return x(p.currentTarget.value)}})]})};E.Z=i},24302:function(Z,E,e){e.r(E),e.d(E,{default:function(){return R}});var d=e(5574),n=e.n(d),O=e(97857),h=e.n(O),g=e(1912),u=e(14726),o=e(1913),m=e(67294),t=e(85893),c=function(){var C=(0,m.useState)(!1),v=n()(C,2),B=v[0],U=v[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ZP,{icon:(0,t.jsx)(g.Z,{}),type:"primary",onClick:function(){return U(!0)},children:"Upload"}),(0,t.jsx)(o.Z,{open:B,onCancel:function(){return U(!1)},onFinish:function(){return U(!0)}})]})},j=c,b=e(20385),M=e(5251),S=e(37476),y=e(42525),F=e(35312),_=e(55060),W=function(C){var v=(0,F.useIntl)(),B=(0,m.useRef)();return(0,t.jsx)(S.Y,{open:C.open,onOpenChange:C.onOpenChange,children:(0,t.jsx)(y.Rs,{ghost:!0,toolBarRender:function(){return[(0,t.jsx)(j,{},"upload")]},headerTitle:v.formatMessage({id:"menu.fileManager"}),request:function(L){return(0,b.V6)(h()({},L),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(L){return{onClick:function(){C.onSelect&&C.onSelect(L)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(L,K){return(0,t.jsx)(_.Z,{src:(0,M.Er)(K.url),height:100,preview:!1})}}},actionRef:B})})},i=W,s=e(47389),P=e(34994),D=e(32983),T=function(C){var v=P.A.useFormInstance(),B=(0,m.useState)(!1),U=n()(B,2),L=U[0],K=U[1],G=(0,m.useState)(),V=n()(G,2),$=V[0],N=V[1],H=function(z){v==null||v.setFieldValue("backgroundImage",z.url),N(z.url),K(!1)};(0,m.useEffect)(function(){new Promise(function(w){setTimeout(function(){N(v==null?void 0:v.getFieldValue(C.name||"")),w(!0)},500)})},[]);var Y=function(){return(0,t.jsx)("div",{className:"border p-4",children:(0,t.jsx)(D.Z,{})})};return(0,t.jsxs)(P.A.Item,{name:C.name,label:C.label,children:[(0,t.jsxs)("div",{className:"relative",children:[$?(0,t.jsx)(_.Z,{src:$,height:150,className:"w-full border"}):(0,t.jsx)(Y,{}),(0,t.jsx)(u.ZP,{icon:(0,t.jsx)(s.Z,{}),onClick:function(){return K(!0)},type:"text",className:"absolute top-0 right-0"})]}),(0,t.jsx)(i,{open:L,onOpenChange:K,onSelect:H})]})},A=T,x=e(66352),a=e(5966),f=e(90672),l=e(71230),r=e(15746),p=function(){var C=(0,F.useParams)(),v=C.id,B=P.A.useFormInstance();return(0,m.useEffect)(function(){(0,x.Tu)(v).then(function(U){B==null||B.setFields([{name:"backgroundImage",value:U.backgroundImage}])})},[v]),(0,t.jsxs)(l.Z,{gutter:16,children:[(0,t.jsx)(r.Z,{md:16,children:(0,t.jsx)(A,{name:"backgroundImage",label:"Background image"})}),(0,t.jsxs)(r.Z,{md:8,children:[(0,t.jsx)(a.Z,{name:"title",label:"Title"}),(0,t.jsx)(f.Z,{name:"description",label:"Description"})]})]})},R=p},20385:function(Z,E,e){e.d(E,{Ah:function(){return c},Cq:function(){return S},V6:function(){return m},kE:function(){return W},p6:function(){return A},tg:function(){return s},yk:function(){return D},z3:function(){return F}});var d=e(15009),n=e.n(d),O=e(97857),h=e.n(O),g=e(99289),u=e.n(g),o=e(35312);function m(a,f,l){return t.apply(this,arguments)}function t(){return t=u()(n()().mark(function a(f,l,r){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,o.request)("file/list",h()({method:"GET",params:h()({type:Object.keys(l!=null?l:[]).length>0?l==null?void 0:l.join(","):""},f)},r||{})));case 1:case"end":return R.stop()}},a)})),t.apply(this,arguments)}function c(a){return j.apply(this,arguments)}function j(){return j=u()(n()().mark(function a(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("file/delete-file-content/".concat(f),{method:"POST"}));case 1:case"end":return r.stop()}},a)})),j.apply(this,arguments)}function b(a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function a(f){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("file/delete-file-item",{method:"POST",data:f}));case 1:case"end":return r.stop()}},a)})),M.apply(this,arguments)}function S(a){return y.apply(this,arguments)}function y(){return y=u()(n()().mark(function a(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("file/".concat(f)));case 1:case"end":return r.stop()}},a)})),y.apply(this,arguments)}function F(a,f){return _.apply(this,arguments)}function _(){return _=u()(n()().mark(function a(f,l){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,o.request)("file/file-items/".concat(l.id)));case 1:case"end":return p.stop()}},a)})),_.apply(this,arguments)}function W(a){return i.apply(this,arguments)}function i(){return i=u()(n()().mark(function a(f){var l;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=new FormData,l.append("file",f),p.abrupt("return",(0,o.request)("file/upload",{method:"POST",data:l}));case 3:case"end":return p.stop()}},a)})),i.apply(this,arguments)}function s(a){return P.apply(this,arguments)}function P(){return P=u()(n()().mark(function a(f){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("file/upload-from-url",{method:"POST",data:{url:f}}));case 1:case"end":return r.stop()}},a)})),P.apply(this,arguments)}function D(){return T.apply(this,arguments)}function T(){return T=u()(n()().mark(function a(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("file/count"));case 1:case"end":return l.stop()}},a)})),T.apply(this,arguments)}function A(){return x.apply(this,arguments)}function x(){return x=u()(n()().mark(function a(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("file/total-size"));case 1:case"end":return l.stop()}},a)})),x.apply(this,arguments)}},5251:function(Z,E,e){e.d(E,{Er:function(){return h},p6:function(){return g}});var d=e(27484),n=e.n(d);function O(o){return o.trim()}function h(o){return new URL(o||"",localStorage.getItem("wf_URL")||"").href}function g(o){return o?n()(o).format("DD/MM/YYYY hh:mm:ss"):"-"}var u=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(t){setTimeout(function(){t(!0)},m)})}}}]);
