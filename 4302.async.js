"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4302],{1912:function(x,h,e){e.d(h,{Z:function(){return c}});var m=e(1413),r=e(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},_=j,E=e(91146),u=function(P,g){return r.createElement(E.Z,(0,m.Z)((0,m.Z)({},P),{},{ref:g,icon:_}))},a=r.forwardRef(u),c=a},16596:function(x,h,e){e.d(h,{Z:function(){return c}});var m=e(1413),r=e(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},_=j,E=e(91146),u=function(P,g){return r.createElement(E.Z,(0,m.Z)((0,m.Z)({},P),{},{ref:g,icon:_}))},a=r.forwardRef(u),c=a},64082:function(x,h,e){e.d(h,{Z:function(){return c}});var m=e(1413),r=e(67294),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},_=j,E=e(91146),u=function(P,g){return r.createElement(E.Z,(0,m.Z)((0,m.Z)({},P),{},{ref:g,icon:_}))},a=r.forwardRef(u),c=a},90672:function(x,h,e){var m=e(1413),r=e(91),j=e(67294),_=e(53287),E=e(85893),u=["fieldProps","proFieldProps"],a=function(n,P){var g=n.fieldProps,U=n.proFieldProps,M=(0,r.Z)(n,u);return(0,E.jsx)(_.Z,(0,m.Z)({ref:P,valueType:"textarea",fieldProps:g,proFieldProps:U},M))};h.Z=j.forwardRef(a)},1913:function(x,h,e){var m=e(15009),r=e.n(m),j=e(99289),_=e.n(j),E=e(5574),u=e.n(E),a=e(20385),c=e(64082),n=e(16596),P=e(35312),g=e(78367),U=e(68872),M=e(17788),W=e(14726),y=e(96074),B=e(55102),R=e(67294),f=e(85893),L=g.Z.Dragger,K=function(b){var F=(0,R.useState)(""),Z=u()(F,2),A=Z[0],l=Z[1];function s(d){var p;try{p=new URL(d)}catch(C){return!1}return p.protocol==="https:"}var t=function(){var d=_()(r()().mark(function p(C){var i;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s(C)){v.next=3;break}return U.ZP.error("Sorry, URL failed to upload."),v.abrupt("return");case 3:return v.next=5,(0,a.tg)(C);case 5:i=v.sent,i.succeeded&&U.ZP.success("Uploaded!");case 7:case"end":return v.stop()}},p)}));return function(C){return d.apply(this,arguments)}}(),o=function(){var d=_()(r()().mark(function p(){return r()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s(A)){i.next=3;break}return U.ZP.error("Sorry, URL failed to upload."),i.abrupt("return");case 3:b.onFinish(A),b.onCancel();case 5:case"end":return i.stop()}},p)}));return function(){return d.apply(this,arguments)}}();return(0,f.jsxs)(M.Z,{open:b.open,onCancel:function(){return b.onCancel()},centered:!0,title:"Upload",onOk:o,children:[(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsxs)(L,{children:[(0,f.jsx)("p",{className:"ant-upload-drag-icon",children:(0,f.jsx)(c.Z,{})}),(0,f.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,f.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]})}),(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)(W.ZP,{icon:(0,f.jsx)(n.Z,{}),type:"link",size:"large",children:(0,f.jsx)("b",{children:"Choose from your computer"})})}),(0,f.jsx)(y.Z,{children:(0,f.jsx)(P.FormattedMessage,{id:"general.or"})}),(0,f.jsx)(B.Z,{placeholder:"Paste image or URL",onChange:function(p){return l(p.currentTarget.value)}})]})};h.Z=K},24302:function(x,h,e){e.r(h),e.d(h,{default:function(){return p}});var m=e(5574),r=e.n(m),j=e(97857),_=e.n(j),E=e(1912),u=e(14726),a=e(1913),c=e(67294),n=e(85893),P=function(){var i=(0,c.useState)(!1),O=r()(i,2),v=O[0],D=O[1];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.ZP,{icon:(0,n.jsx)(E.Z,{}),type:"primary",onClick:function(){return D(!0)},children:"Upload"}),(0,n.jsx)(a.Z,{open:v,onCancel:function(){return D(!1)},onFinish:function(){return D(!0)}})]})},g=P,U=e(20385),M=e(5251),W=e(37476),y=e(42525),B=e(35312),R=e(55060),f=function(i){var O=(0,B.useIntl)(),v=(0,c.useRef)();return(0,n.jsx)(W.Y,{open:i.open,onOpenChange:i.onOpenChange,children:(0,n.jsx)(y.Rs,{ghost:!0,toolBarRender:function(){return[(0,n.jsx)(g,{},"upload")]},headerTitle:O.formatMessage({id:"menu.fileManager"}),request:function(I){return(0,U.V6)(_()({},I),[".png",".jpg",".jpeg","image/jpeg"])},search:{layout:"vertical"},pagination:{pageSize:6},grid:{column:3},onItem:function(I){return{onClick:function(){i.onSelect&&i.onSelect(I)}}},metas:{content:{dataIndex:"name",title:"Name",render:function(I,S){return(0,n.jsx)(R.Z,{src:(0,M.Er)(S.url),height:100,preview:!1})}}},actionRef:v})})},L=f,K=e(47389),T=e(34994),b=e(32983),F=function(i){var O=T.A.useFormInstance(),v=(0,c.useState)(!1),D=r()(v,2),I=D[0],S=D[1],G=(0,c.useState)(),V=r()(G,2),z=V[0],$=V[1],H=function(N){O==null||O.setFieldValue("backgroundImage",N.url),$(N.url),S(!1)};(0,c.useEffect)(function(){new Promise(function(w){setTimeout(function(){$(O==null?void 0:O.getFieldValue(i.name||"")),w(!0)},500)})},[]);var Y=function(){return(0,n.jsx)("div",{className:"border p-4",children:(0,n.jsx)(b.Z,{})})};return(0,n.jsxs)(T.A.Item,{name:i.name,label:i.label,children:[(0,n.jsxs)("div",{className:"relative",children:[z?(0,n.jsx)(R.Z,{src:z,height:150,className:"w-full border"}):(0,n.jsx)(Y,{}),(0,n.jsx)(u.ZP,{icon:(0,n.jsx)(K.Z,{}),onClick:function(){return S(!0)},type:"text",className:"absolute top-0 right-0"})]}),(0,n.jsx)(L,{open:I,onOpenChange:S,onSelect:H})]})},Z=F,A=e(66352),l=e(5966),s=e(90672),t=e(71230),o=e(15746),d=function(){var i=(0,B.useParams)(),O=i.id,v=T.A.useFormInstance();return(0,c.useEffect)(function(){(0,A.Tu)(O).then(function(D){v==null||v.setFields([{name:"backgroundImage",value:D.backgroundImage}])})},[O]),(0,n.jsxs)(t.Z,{gutter:16,children:[(0,n.jsx)(o.Z,{md:16,children:(0,n.jsx)(Z,{name:"backgroundImage",label:"Background image"})}),(0,n.jsxs)(o.Z,{md:8,children:[(0,n.jsx)(l.Z,{name:"title",label:"Title"}),(0,n.jsx)(s.Z,{name:"description",label:"Description"})]})]})},p=d},20385:function(x,h,e){e.d(h,{Ah:function(){return P},Cq:function(){return W},V6:function(){return c},kE:function(){return f},p6:function(){return Z},tg:function(){return K},yk:function(){return b},z3:function(){return B}});var m=e(15009),r=e.n(m),j=e(97857),_=e.n(j),E=e(99289),u=e.n(E),a=e(35312);function c(l,s,t){return n.apply(this,arguments)}function n(){return n=u()(r()().mark(function l(s,t,o){return r()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,a.request)("file/list",_()({method:"GET",params:_()({type:Object.keys(t!=null?t:[]).length>0?t==null?void 0:t.join(","):""},s)},o||{})));case 1:case"end":return p.stop()}},l)})),n.apply(this,arguments)}function P(l){return g.apply(this,arguments)}function g(){return g=u()(r()().mark(function l(s){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/delete-file-content/".concat(s),{method:"POST"}));case 1:case"end":return o.stop()}},l)})),g.apply(this,arguments)}function U(l){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function l(s){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("file/delete-file-item",{method:"POST",data:s}));case 1:case"end":return o.stop()}},l)})),M.apply(this,arguments)}function W(l){return y.apply(this,arguments)}function y(){return y=u()(r()().mark(function l(s){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/".concat(s)));case 1:case"end":return o.stop()}},l)})),y.apply(this,arguments)}function B(l,s){return R.apply(this,arguments)}function R(){return R=u()(r()().mark(function l(s,t){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,a.request)("file/file-items/".concat(t.id)));case 1:case"end":return d.stop()}},l)})),R.apply(this,arguments)}function f(l){return L.apply(this,arguments)}function L(){return L=u()(r()().mark(function l(s){var t;return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t=new FormData,t.append("file",s),d.abrupt("return",(0,a.request)("file/upload",{method:"POST",data:t}));case 3:case"end":return d.stop()}},l)})),L.apply(this,arguments)}function K(l){return T.apply(this,arguments)}function T(){return T=u()(r()().mark(function l(s){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,a.request)("file/upload-from-url",{method:"POST",data:{url:s}}));case 1:case"end":return o.stop()}},l)})),T.apply(this,arguments)}function b(){return F.apply(this,arguments)}function F(){return F=u()(r()().mark(function l(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,a.request)("file/count"));case 1:case"end":return t.stop()}},l)})),F.apply(this,arguments)}function Z(){return A.apply(this,arguments)}function A(){return A=u()(r()().mark(function l(){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,a.request)("file/total-size"));case 1:case"end":return t.stop()}},l)})),A.apply(this,arguments)}},5251:function(x,h,e){e.d(h,{Er:function(){return _},p6:function(){return E}});var m=e(27484),r=e.n(m);function j(a){return a.trim()}function _(a){return new URL(a||"",localStorage.getItem("wf_URL")||"").href}function E(a){return a?r()(a).format("DD/MM/YYYY hh:mm:ss"):"-"}var u=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(n){setTimeout(function(){n(!0)},c)})}}}]);
