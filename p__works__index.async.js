"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6964],{37653:function(G,l,e){var d=e(1413),a=e(67294),g=e(26554),m=e(91146),c=function(D,x){return a.createElement(m.Z,(0,d.Z)((0,d.Z)({},D),{},{ref:x,icon:g.Z}))},u=a.forwardRef(c);l.Z=u},31199:function(G,l,e){var d=e(1413),a=e(91),g=e(67294),m=e(53287),c=e(85893),u=["fieldProps","min","proFieldProps","max"],j=function(o,_){var E=o.fieldProps,f=o.min,R=o.proFieldProps,M=o.max,P=(0,a.Z)(o,u);return(0,c.jsx)(m.Z,(0,d.Z)({valueType:"digit",fieldProps:(0,d.Z)({min:f,max:M},E),ref:_,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:R},P))},D=g.forwardRef(j);l.Z=D},85335:function(G,l,e){var d=e(15009),a=e.n(d),g=e(99289),m=e.n(g),c=e(66352),u=e(93410),j=e(34994),D=e(5966),x=e(63434),o=e(35312),_=e(68872),E=e(67294),f=e(85893),R=function(){var P=(0,o.useParams)(),y=P.id,L=(0,E.useRef)();(0,E.useEffect)(function(){(0,c.Mk)(y).then(function(C){var i;(i=L.current)===null||i===void 0||i.setFields([{name:"name",value:C.name},{name:"active",value:C.active}])})},[y]);var U=function(){var C=m()(a()().mark(function i(B){var T;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,c.Qb)(B);case 2:T=O.sent,T.succeeded?_.ZP.success("Saved!"):_.ZP.error(T.errors[0].description);case 4:case"end":return O.stop()}},i)}));return function(B){return C.apply(this,arguments)}}();return(0,f.jsx)(u.Z,{title:"Info",children:(0,f.jsxs)(j.A,{formRef:L,onFinish:U,children:[(0,f.jsx)(D.Z,{hidden:!0,name:"id",initialValue:y}),(0,f.jsx)(D.Z,{name:"name",label:"Name"}),(0,f.jsx)(x.Z,{name:"active",label:"Active"})]})})};l.Z=R},11817:function(G,l,e){e.r(l),e.d(l,{default:function(){return ie}});var d=e(15009),a=e.n(d),g=e(99289),m=e.n(g),c=e(85335),u=e(66352),j=e(93410),D=e(34994),x=e(63386),o=e(35312),_=e(68872),E=e(71230),f=e(15746),R=e(14726),M=e(67294),P=e(24302),y=e(5574),L=e.n(y),U=e(89575),C=e(47389),i=e(82061),B=e(51042),T=e(62763),$=e(37476),O=e(5966),W=e(78957),ee=e(7134),ne=e(86738),n=e(85893),ae=function(w){var F=w.data,k=(0,o.useParams)(),S=k.id,t=(0,M.useState)([]),J=L()(t,2),H=J[0],b=J[1],V=(0,M.useState)(!1),Q=L()(V,2),X=Q[0],N=Q[1],q=(0,M.useRef)();(0,M.useEffect)(function(){F&&b(F.brands||[])},[F]);var K=function(){var Z=m()(a()().mark(function v(r){var s,h,A,z,p;return a()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return s=H,r.id?(h=s.findIndex(function(_e){return _e.id===r.id}),s[h].name=r.name,s[h].url=r.url,s[h].logo=r.logo):(r.id=(0,U.k)(),s||(s=[]),s.push(r)),A={brands:s},Y.next=5,(0,u.iH)(S,A);case 5:z=Y.sent,z.succeeded&&(b(s),_.ZP.success("Saved!"),N(!1),(p=q.current)===null||p===void 0||p.resetFields());case 7:case"end":return Y.stop()}},v)}));return function(r){return Z.apply(this,arguments)}}(),de=function(){var Z=m()(a()().mark(function v(r){var s,h,A;return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=H.filter(function(I){return I.id!==r.id}),h={brands:s},p.next=4,(0,u.iH)(S,h);case 4:A=p.sent,A.succeeded&&(b(s),_.ZP.success("Deleted!"));case 6:case"end":return p.stop()}},v)}));return function(r){return Z.apply(this,arguments)}}(),ue=[{title:"#",dataIndex:"sort",className:"drag-visible",search:!1,width:50,align:"center"},{title:"Name",dataIndex:"name",render:function(v,r){return(0,n.jsxs)(W.Z,{children:[(0,n.jsx)(ee.C,{src:r.logo}),v]})}},{title:"Url",dataIndex:"url",search:!1},{title:"Action",valueType:"option",render:function(v,r){return[(0,n.jsx)(R.ZP,{type:"primary",icon:(0,n.jsx)(C.Z,{}),size:"small"},"edit"),(0,n.jsx)(ne.Z,{title:"Are you sure?",onConfirm:function(){return de(r)},children:(0,n.jsx)(R.ZP,{icon:(0,n.jsx)(i.Z,{}),size:"small",danger:!0,type:"primary"})},4)]},width:80}],me=function(){var Z=m()(a()().mark(function v(r,s,h){var A,z;return a()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return A={brands:h},I.next=3,(0,u.iH)(S,A);case 3:z=I.sent,z.succeeded&&(b(h),_.ZP.success("Saved!"));case 5:case"end":return I.stop()}},v)}));return function(r,s,h){return Z.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.Z,{toolBarRender:function(){return[(0,n.jsx)(R.ZP,{icon:(0,n.jsx)(B.Z,{}),type:"link",onClick:function(){return N(!0)}},"add")]},dataSource:H,columns:ue,search:{layout:"vertical"},rowKey:"id",dragSortKey:"sort",onDragSortEnd:me}),(0,n.jsxs)($.Y,{onFinish:K,open:X,formRef:q,onOpenChange:N,title:(0,n.jsx)(o.FormattedMessage,{id:"menu.component.sponsor"}),children:[(0,n.jsx)(O.Z,{name:"id",label:"Id",disabled:!0}),(0,n.jsx)(O.Z,{name:"name",label:"Name"}),(0,n.jsx)(O.Z,{name:"logo",label:"Logo"}),(0,n.jsx)(O.Z,{name:"url",label:"Url"})]})]})},re=ae,se=e(37653),te=e(82436),oe=function(){var w=(0,o.useParams)(),F=w.id,k=(0,M.useRef)(),S=(0,o.useRequest)(function(){return(0,u.Tu)(F)}),t=S.data,J=S.loading,H=function(){var V=m()(a()().mark(function Q(X){var N;return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,u.iH)(F,X);case 2:N=K.sent,N.succeeded&&_.ZP.success("Saved!");case 4:case"end":return K.stop()}},Q)}));return function(X){return V.apply(this,arguments)}}(),b=function(){return(t==null?void 0:t.componentName)==="Sponsor"?(0,n.jsx)(re,{data:t.data}):(t==null?void 0:t.componentName)==="VideoPlayList"?(0,n.jsx)(te.default,{data:t.data}):(0,n.jsxs)(E.Z,{gutter:16,children:[(0,n.jsx)(f.Z,{md:16,children:(0,n.jsx)(j.Z,{children:(0,n.jsx)(D.A,{onFinish:H,formRef:k,children:(0,n.jsx)(P.default,{})})})}),(0,n.jsx)(f.Z,{md:8,children:(0,n.jsx)(c.Z,{})})]})};return(0,n.jsx)(x._z,{subTitle:t==null?void 0:t.componentName,title:t==null?void 0:t.name,loading:J,extra:(0,n.jsx)(R.ZP,{icon:(0,n.jsx)(se.Z,{}),onClick:function(){return o.history.back()},children:"Quay l\u1EA1i"}),children:(0,n.jsx)(j.Z,{tabs:{tabPosition:"top",items:[{key:"content",tabKey:"content",label:"Content",children:b()},{key:"setting",tabKey:"setting",label:"Setting",children:(0,n.jsx)(c.Z,{})}]}})})},ie=oe},82436:function(G,l,e){e.r(l);var d=e(15009),a=e.n(d),g=e(99289),m=e.n(g),c=e(66352),u=e(34994),j=e(5966),D=e(31199),x=e(35312),o=e(68872),_=e(67294),E=e(85893),f=function(M){var P=M.data,y=(0,x.useParams)(),L=y.id,U=(0,_.useRef)();(0,_.useEffect)(function(){if(P){var i;(i=U.current)===null||i===void 0||i.setFields([{name:"title",value:P.title},{name:"pageSize",value:P.pageSize},{name:"className",value:P.className}])}},[P]);var C=function(){var i=m()(a()().mark(function B(T){var $;return a()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,c.iH)(L,T);case 2:$=W.sent,$.succeeded&&o.ZP.success("Saved");case 4:case"end":return W.stop()}},B)}));return function(T){return i.apply(this,arguments)}}();return(0,E.jsxs)(u.A,{formRef:U,onFinish:C,children:[(0,E.jsx)(j.Z,{name:"title",label:"Title"}),(0,E.jsx)(j.Z,{name:"className",label:"Class name"}),(0,E.jsx)(D.Z,{name:"pageSize",label:"Page size"})]})};l.default=f},89575:function(G,l,e){e.d(l,{k:function(){return d}});function d(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return(a^crypto.getRandomValues(new Uint8Array(1))[0]&15>>a/4).toString(16)})}}}]);
