"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8587],{14361:function(A,v,e){var i=e(1413),t=e(67294),m=e(3843),E=e(91146),h=function(p,_){return t.createElement(E.Z,(0,i.Z)((0,i.Z)({},p),{},{ref:_,icon:m.Z}))},d=t.forwardRef(h);v.Z=d},82061:function(A,v,e){var i=e(1413),t=e(67294),m=e(47046),E=e(91146),h=function(p,_){return t.createElement(E.Z,(0,i.Z)((0,i.Z)({},p),{},{ref:_,icon:m.Z}))},d=t.forwardRef(h);v.Z=d},55287:function(A,v,e){var i=e(1413),t=e(67294),m=e(5717),E=e(91146),h=function(p,_){return t.createElement(E.Z,(0,i.Z)((0,i.Z)({},p),{},{ref:_,icon:m.Z}))},d=t.forwardRef(h);v.Z=d},89050:function(A,v,e){e.d(v,{Z:function(){return p}});var i=e(1413),t=e(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M551.5 490.5H521c-4.6 0-8.4 3.7-8.4 8.4V720c0 4.6 3.7 8.4 8.4 8.4h30.5c4.6 0 8.4-3.7 8.4-8.4V498.9c-.1-4.6-3.8-8.4-8.4-8.4zM477.3 600h-88.1c-4.6 0-8.4 3.7-8.4 8.4v23.8c0 4.6 3.7 8.4 8.4 8.4h47.6v.7c-.6 29.9-23 49.8-56.5 49.8-39.2 0-63.6-30.7-63.6-81.4 0-50.1 23.9-80.6 62.3-80.6 28.1 0 47.5 13.5 55.4 38.3l.9 2.8h49.2l-.7-4.6C475.9 515.9 434.7 484 379 484c-68.8 0-113 49.4-113 125.9 0 77.5 43.7 126.1 113.6 126.1 64.4 0 106-40.3 106-102.9v-24.8c0-4.6-3.7-8.3-8.3-8.3z"}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z"}},{tag:"path",attrs:{d:"M608.2 727.8h32.3c4.6 0 8.4-3.7 8.4-8.4v-84.8h87.8c4.6 0 8.4-3.7 8.4-8.4v-25.5c0-4.6-3.7-8.4-8.4-8.4h-87.8v-58.9h96.8c4.6 0 8.4-3.7 8.4-8.4v-26.8c0-4.6-3.7-8.4-8.4-8.4H608.2c-4.6 0-8.4 3.7-8.4 8.4v221.1c0 4.8 3.8 8.5 8.4 8.5z"}}]},name:"file-gif",theme:"outlined"},E=m,h=e(91146),d=function(o,P){return t.createElement(h.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:P,icon:E}))},c=t.forwardRef(d),p=c},15245:function(A,v,e){e.d(v,{Z:function(){return p}});var i=e(1413),t=e(67294),m={icon:function(o,P){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42zm-134 50c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zm296 294H328.1c-6.7 0-10.4-7.7-6.3-12.9l99.8-127.2a8 8 0 0112.6 0l41.1 52.4 77.8-99.2a8.1 8.1 0 0112.7 0l136.5 174c4.1 5.2.4 12.9-6.3 12.9z",fill:P}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:o}},{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0z",fill:o}}]}},name:"file-image",theme:"twotone"},E=m,h=e(91146),d=function(o,P){return t.createElement(h.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:P,icon:E}))},c=t.forwardRef(d),p=c},55555:function(A,v,e){e.d(v,{Z:function(){return p}});var i=e(1413),t=e(67294),m={icon:function(o,P){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42zm-22 322c0 4.4-3.6 8-8 8H320c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h184c4.4 0 8 3.6 8 8v48zm200-184v48c0 4.4-3.6 8-8 8H320c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h384c4.4 0 8 3.6 8 8z",fill:P}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:o}},{tag:"path",attrs:{d:"M312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8zm192 128H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z",fill:o}}]}},name:"file-text",theme:"twotone"},E=m,h=e(91146),d=function(o,P){return t.createElement(h.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:P,icon:E}))},c=t.forwardRef(d),p=c},88484:function(A,v,e){e.d(v,{Z:function(){return p}});var i=e(1413),t=e(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},E=m,h=e(91146),d=function(o,P){return t.createElement(h.Z,(0,i.Z)((0,i.Z)({},o),{},{ref:P,icon:E}))},c=t.forwardRef(d),p=c},90672:function(A,v,e){var i=e(1413),t=e(91),m=e(67294),E=e(53287),h=e(85893),d=["fieldProps","proFieldProps"],c=function(_,o){var P=_.fieldProps,s=_.proFieldProps,D=(0,t.Z)(_,d);return(0,h.jsx)(E.Z,(0,i.Z)({ref:o,valueType:"textarea",fieldProps:P,proFieldProps:s},D))};v.Z=m.forwardRef(c)},5966:function(A,v,e){var i=e(97685),t=e(1413),m=e(91),E=e(21770),h=e(8232),d=e(55241),c=e(97435),p=e(67294),_=e(53287),o=e(85893),P=["fieldProps","proFieldProps"],s=["fieldProps","proFieldProps"],D="text",F=function(f){var l=f.fieldProps,g=f.proFieldProps,M=(0,m.Z)(f,P);return(0,o.jsx)(_.Z,(0,t.Z)({valueType:D,fieldProps:l,filedConfig:{valueType:D},proFieldProps:g},M))},Z=function(f){var l=(0,E.Z)(f.open||!1,{value:f.open,onChange:f.onOpenChange}),g=(0,i.Z)(l,2),M=g[0],T=g[1];return(0,o.jsx)(h.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var a,u=B.getFieldValue(f.name||[]);return(0,o.jsx)(d.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:function(r){return T(r)},content:(0,o.jsxs)("div",{style:{padding:"4px 0"},children:[(a=f.statusRender)===null||a===void 0?void 0:a.call(f,u),f.strengthText?(0,o.jsx)("div",{style:{marginTop:10},children:(0,o.jsx)("span",{children:f.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},f.popoverProps),{},{open:M,children:f.children}))}})},y=function(f){var l=f.fieldProps,g=f.proFieldProps,M=(0,m.Z)(f,s),T=(0,p.useState)(!1),x=(0,i.Z)(T,2),B=x[0],a=x[1];return l!=null&&l.statusRender&&M.name?(0,o.jsx)(Z,{name:M.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:B,onOpenChange:a,children:(0,o.jsx)("div",{children:(0,o.jsx)(_.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,c.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(n){var r;l==null||(r=l.onBlur)===null||r===void 0||r.call(l,n),a(!1)},onClick:function(n){var r;l==null||(r=l.onClick)===null||r===void 0||r.call(l,n),a(!0)}}),proFieldProps:g,filedConfig:{valueType:D}},M))})}):(0,o.jsx)(_.Z,(0,t.Z)({valueType:"password",fieldProps:l,proFieldProps:g,filedConfig:{valueType:D}},M))},j=F;j.Password=y,j.displayName="ProFormComponent",v.Z=j},77198:function(A,v,e){var i=e(97857),t=e.n(i),m=e(5574),E=e.n(m),h=e(20385),d=e(15245),c=e(89050),p=e(55555),_=e(55287),o=e(82061),P=e(14361),s=e(73403),D=e(88484),F=e(2177),Z=e(35312),y=e(68872),j=e(85418),W=e(78957),f=e(86738),l=e(14726),g=e(17788),M=e(71230),T=e(15746),x=e(85673),B=e(55102),a=e(78367),u=e(67294),n=e(85893),r=function(O){var V=(0,Z.useIntl)(),K=(0,u.useRef)(),b=(0,u.useState)(),G=E()(b,2),w=G[0],Q=G[1],z={name:"file",action:h.kE,onChange:function(I){if(I.file.status!=="uploading"&&console.log(I.file,I.fileList),I.file.status==="done"){var S;y.ZP.success("".concat(I.file.name," file uploaded successfully")),(S=K.current)===null||S===void 0||S.reload()}else I.file.status==="error"&&y.ZP.error("".concat(I.file.name," file upload failed."))}},J=[{key:"images",name:"Images",icon:(0,n.jsx)(d.Z,{twoToneColor:"#eb2f96"})},{key:"videos",name:"Videos",icon:(0,n.jsx)(c.Z,{})},{key:"text",name:"Documents",icon:(0,n.jsx)(p.Z,{twoToneColor:"#52c41a"})}],N=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:"Date modified",dataIndex:"modifiedDate"},{title:"Type",dataIndex:"type"},{title:"Size",dataIndex:"size"},{title:"Action",render:function(I,S){return(0,n.jsx)(j.Z,{menu:{items:[{key:1,label:(0,n.jsxs)(W.Z,{onClick:function(){return Z.history.push("/files/center/".concat(S.id))},children:[(0,n.jsx)(_.Z,{}),(0,n.jsx)(Z.FormattedMessage,{id:"general.preview"})]})},{key:2,label:(0,n.jsx)(f.Z,{title:"Are you sure?",children:(0,n.jsxs)(W.Z,{children:[(0,n.jsx)(o.Z,{}),"Delete"]})}),danger:!0}]},children:(0,n.jsx)(l.ZP,{icon:(0,n.jsx)(P.Z,{}),type:"link",size:"small"})})}}];return(0,n.jsxs)(g.Z,{title:"File Explorer",open:O.open,onCancel:function(){return O.onOpenChange()},centered:!0,width:1100,footer:!1,children:[(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)(M.Z,{gutter:16,children:[(0,n.jsx)(T.Z,{span:4}),(0,n.jsx)(T.Z,{span:20,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(x.Z.Item,{href:"",children:(0,n.jsx)(s.Z,{})}),(0,n.jsx)(x.Z.Item,{href:"",children:"Home"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(B.Z.Search,{placeholder:"Search"})})]})})]})}),(0,n.jsxs)(M.Z,{gutter:16,children:[(0,n.jsx)(T.Z,{span:4,style:{borderRight:"1px solid #d1d1d1"},children:J.map(function(R){return(0,n.jsx)("div",{className:"hover-light",children:(0,n.jsx)(l.ZP,{type:"link",icon:R.icon,children:R.name})},R.key)})}),(0,n.jsx)(T.Z,{span:20,children:(0,n.jsx)(F.Z,{rowSelection:{},toolBarRender:function(){return[(0,u.createElement)(a.Z,t()(t()({},z),{},{key:0}),(0,n.jsx)(l.ZP,{icon:(0,n.jsx)(D.Z,{}),type:"primary",children:"Upload"}))]},search:!1,columns:N,request:function(I){return(0,h.V6)(t()({},I),O.type)},pagination:{defaultPageSize:8},actionRef:K})})]})]})};v.Z=r},67721:function(A,v,e){e.r(v),e.d(v,{default:function(){return r}});var i=e(15009),t=e.n(i),m=e(99289),E=e.n(m),h=e(5574),d=e.n(h),c=e(77198),p=e(82061),_=e(86738),o=e(14726),P=e(96746),s=e(85893),D=function(O){var V=function(){O.onRemove&&O.onRemove(O.src)};return(0,s.jsx)("div",{className:"flex",children:(0,s.jsxs)("div",{style:{padding:".5rem 2rem",backgroundColor:"#efefef",position:"relative",width:200,height:150,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,s.jsx)(_.Z,{title:"Are you sure?",onConfirm:V,children:(0,s.jsx)(o.ZP,{icon:(0,s.jsx)(p.Z,{}),size:"small",type:"link",danger:!0,style:{position:"absolute",right:0,top:0}})}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("img",{style:{maxHeight:180,maxWidth:100},src:O.src.url,alt:O.src.name,onClick:O.onClick,className:"cursor-pointer"})}),(0,s.jsx)(P.Z.Text,{className:"truncate",children:O.src.name})]})})},F=D,Z=e(66352),y=e(63386),j=e(93410),W=e(34994),f=e(53287),l=e(5966),g=e(90672),M=e(35312),T=e(68872),x=e(32983),B=e(71230),a=e(15746),u=e(67294),n=function(){var O=(0,M.useIntl)(),V=(0,M.useParams)(),K=V.id,b=(0,u.useRef)(),G=(0,u.useState)(!1),w=d()(G,2),Q=w[0],z=w[1],J=(0,u.useState)(),N=d()(J,2),R=N[0],I=N[1];(0,u.useEffect)(function(){(0,Z.nO)(K).then(function(L){if(L){var U;(U=b.current)===null||U===void 0||U.setFields([{name:"title",value:L.title},{name:"text",value:L.text}]),I(L.image)}})},[K]);var S=function(){var L=E()(t()().mark(function U($){var Y;return t()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return $.id=K,$.image=R,H.next=4,(0,Z.z_)($);case 4:Y=H.sent,Y.succeeded&&T.ZP.success(O.formatMessage({id:"general.saved"}));case 6:case"end":return H.stop()}},U)}));return function($){return L.apply(this,arguments)}}(),X=function(U){I(U),z(!1)},k=function(){return R?(0,s.jsx)(F,{src:R,onClick:function(){return z(!0)}}):(0,s.jsx)("div",{className:"image-placeholder",onClick:function(){return z(!0)},children:(0,s.jsx)(x.Z,{})})};return(0,s.jsxs)(y._z,{title:O.formatMessage({id:"menu.component.card"}),children:[(0,s.jsxs)(B.Z,{gutter:16,children:[(0,s.jsx)(a.Z,{span:4,children:(0,s.jsx)(j.Z,{title:"Work contents",children:(0,s.jsx)(x.Z,{})})}),(0,s.jsx)(a.Z,{span:12,children:(0,s.jsx)(j.Z,{title:"Content",children:(0,s.jsxs)(W.A,{onFinish:S,formRef:b,children:[(0,s.jsx)(f.Z,{label:"Image",children:k()}),(0,s.jsx)(l.Z,{name:"title",label:"Title"}),(0,s.jsx)(g.Z,{name:"text",label:"Text"})]})})}),(0,s.jsx)(a.Z,{span:8,children:(0,s.jsx)(j.Z,{title:"Preview",children:(0,s.jsx)(x.Z,{})})})]}),(0,s.jsx)(c.Z,{open:Q,onOpenChange:z,onSelect:X})]})},r=n},20385:function(A,v,e){e.d(v,{Ah:function(){return o},Cq:function(){return F},V6:function(){return p},kE:function(){return W},p6:function(){return x},tg:function(){return l},yk:function(){return M},z3:function(){return y}});var i=e(15009),t=e.n(i),m=e(97857),E=e.n(m),h=e(99289),d=e.n(h),c=e(35312);function p(a,u,n){return _.apply(this,arguments)}function _(){return _=d()(t()().mark(function a(u,n,r){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,c.request)("file/list",E()({method:"GET",params:E()({type:Object.keys(n!=null?n:[]).length>0?n==null?void 0:n.join(","):""},u)},r||{})));case 1:case"end":return O.stop()}},a)})),_.apply(this,arguments)}function o(a){return P.apply(this,arguments)}function P(){return P=d()(t()().mark(function a(u){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("file/delete-file-content/".concat(u),{method:"POST"}));case 1:case"end":return r.stop()}},a)})),P.apply(this,arguments)}function s(a){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function a(u){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("file/delete-file-item",{method:"POST",data:u}));case 1:case"end":return r.stop()}},a)})),D.apply(this,arguments)}function F(a){return Z.apply(this,arguments)}function Z(){return Z=d()(t()().mark(function a(u){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("file/".concat(u)));case 1:case"end":return r.stop()}},a)})),Z.apply(this,arguments)}function y(a,u){return j.apply(this,arguments)}function j(){return j=d()(t()().mark(function a(u,n){return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,c.request)("file/file-items/".concat(n.id)));case 1:case"end":return C.stop()}},a)})),j.apply(this,arguments)}function W(a){return f.apply(this,arguments)}function f(){return f=d()(t()().mark(function a(u){var n;return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return n=new FormData,n.append("file",u),C.abrupt("return",(0,c.request)("file/upload",{method:"POST",data:n}));case 3:case"end":return C.stop()}},a)})),f.apply(this,arguments)}function l(a){return g.apply(this,arguments)}function g(){return g=d()(t()().mark(function a(u){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,c.request)("file/upload-from-url",{method:"POST",data:{url:u}}));case 1:case"end":return r.stop()}},a)})),g.apply(this,arguments)}function M(){return T.apply(this,arguments)}function T(){return T=d()(t()().mark(function a(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("file/count"));case 1:case"end":return n.stop()}},a)})),T.apply(this,arguments)}function x(){return B.apply(this,arguments)}function B(){return B=d()(t()().mark(function a(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("file/total-size"));case 1:case"end":return n.stop()}},a)})),B.apply(this,arguments)}}}]);
