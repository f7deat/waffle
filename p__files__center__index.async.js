"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4136],{49495:function(W,f){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};f.Z=e},27895:function(W,f,e){e.r(f);var v=e(15009),a=e.n(v),j=e(99289),h=e.n(j),M=e(5574),d=e.n(M),s=e(20385),O=e(55725),c=e(82061),u=e(82826),C=e(63386),b=e(2177),o=e(35312),E=e(14726),P=e(86738),T=e(68872),_=e(78957),A=e(71230),D=e(15746),g=e(67294),p=e(19489),l=e(85893),y=function(){var L=(0,o.useParams)(),r=L.id,i=(0,o.useIntl)(),n=(0,g.useState)(),t=d()(n,2),m=t[0],U=t[1];(0,g.useEffect)(function(){(0,s.Cq)(r).then(function(I){U(I)})},[]);var w=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:i.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(B,R){return[(0,l.jsx)(E.ZP,{icon:(0,l.jsx)(O.Z,{}),type:"primary",onClick:function(){o.history.push("/works/".concat(R.normalizedName.toLocaleLowerCase(),"/").concat(R.id))}},1),(0,l.jsx)(P.Z,{title:"Are you sure?",children:(0,l.jsx)(E.ZP,{icon:(0,l.jsx)(c.Z,{}),type:"primary",danger:!0})},2)]}}],Z=function(){var I=h()(a()().mark(function B(){var R;return a()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,s.Ah)(r);case 2:R=K.sent,R.succeeded?(T.ZP.success(i.formatMessage({id:"general.deleted"})),o.history.back()):T.ZP.error(R.errors[0].description);case 4:case"end":return K.stop()}},B)}));return function(){return I.apply(this,arguments)}}(),F=(0,l.jsxs)(_.Z,{children:[(0,l.jsx)(P.Z,{title:"Are you sure?",onConfirm:Z,children:(0,l.jsx)(E.ZP,{type:"primary",danger:!0,icon:(0,l.jsx)(c.Z,{}),children:"Delete"})}),(0,l.jsx)(E.ZP,{onClick:function(){return o.history.back()},icon:(0,l.jsx)(u.Z,{}),children:(0,l.jsx)(o.FormattedMessage,{id:"general.back"})})]});return(0,l.jsx)(C._z,{title:"Center",extra:F,children:(0,l.jsxs)(A.Z,{gutter:16,children:[(0,l.jsx)(D.Z,{span:8,children:(0,l.jsx)(p.Z,{file:m})}),(0,l.jsx)(D.Z,{span:16,children:(0,l.jsx)(b.Z,{columns:w,request:function(B){return(0,s.z3)(B,{id:r})},rowKey:"id"})})]})})};f.default=y},19489:function(W,f,e){var v=e(5251),a=e(69753),j=e(93410),h=e(35312),M=e(55060),d=e(32983),s=e(14726),O=e(96074),c=e(26412),u=e(85893),C=function(o){var E,P=["image/jpeg","image/png","image/webp",".svg",".jpg",".png",".jpeg"],T=(0,h.useIntl)(),_=o.file,A=function(){o.onChange&&o.onChange()},D=function(){var p;return P.includes((p=_==null?void 0:_.type)!==null&&p!==void 0?p:"")?(0,u.jsx)("div",{className:"flex justify-center items-center",style:{minHeight:130},children:(0,u.jsx)(M.Z,{src:(0,v.Er)(_==null?void 0:_.url)})}):(0,u.jsx)("div",{onClick:A,children:(0,u.jsx)(d.Z,{})})};return(0,u.jsxs)(j.Z,{title:T.formatMessage({id:"general.preview"}),actions:[(0,u.jsx)(s.ZP,{type:"link",onClick:function(){return window.location.href=(0,v.Er)(_==null?void 0:_.url)},icon:(0,u.jsx)(a.Z,{}),children:"Download"},"download")],children:[D(),(0,u.jsx)(O.Z,{}),(0,u.jsxs)(c.Z,{title:"File info",column:1,children:[(0,u.jsx)(c.Z.Item,{label:"Name",children:_==null?void 0:_.name}),(0,u.jsxs)(c.Z.Item,{label:"Size",children:[(((E=_==null?void 0:_.size)!==null&&E!==void 0?E:0)/1024).toFixed(2)," KB"]}),(0,u.jsx)(c.Z.Item,{label:"Type",children:_==null?void 0:_.type})]})]})};f.Z=C},20385:function(W,f,e){e.d(f,{Ah:function(){return u},Cq:function(){return E},V6:function(){return O},kE:function(){return A},p6:function(){return x},tg:function(){return g},yk:function(){return l},z3:function(){return T}});var v=e(15009),a=e.n(v),j=e(97857),h=e.n(j),M=e(99289),d=e.n(M),s=e(35312);function O(r,i,n){return c.apply(this,arguments)}function c(){return c=d()(a()().mark(function r(i,n,t){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,s.request)("file/list",h()({method:"GET",params:h()({type:Object.keys(n!=null?n:[]).length>0?n==null?void 0:n.join(","):""},i)},t||{})));case 1:case"end":return U.stop()}},r)})),c.apply(this,arguments)}function u(r){return C.apply(this,arguments)}function C(){return C=d()(a()().mark(function r(i){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("file/delete-file-content/".concat(i),{method:"POST"}));case 1:case"end":return t.stop()}},r)})),C.apply(this,arguments)}function b(r){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function r(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("file/delete-file-item",{method:"POST",data:i}));case 1:case"end":return t.stop()}},r)})),o.apply(this,arguments)}function E(r){return P.apply(this,arguments)}function P(){return P=d()(a()().mark(function r(i){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("file/".concat(i)));case 1:case"end":return t.stop()}},r)})),P.apply(this,arguments)}function T(r,i){return _.apply(this,arguments)}function _(){return _=d()(a()().mark(function r(i,n){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,s.request)("file/file-items/".concat(n.id)));case 1:case"end":return m.stop()}},r)})),_.apply(this,arguments)}function A(r){return D.apply(this,arguments)}function D(){return D=d()(a()().mark(function r(i){var n;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return n=new FormData,n.append("file",i),m.abrupt("return",(0,s.request)("file/upload",{method:"POST",data:n}));case 3:case"end":return m.stop()}},r)})),D.apply(this,arguments)}function g(r){return p.apply(this,arguments)}function p(){return p=d()(a()().mark(function r(i){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,s.request)("file/upload-from-url",{method:"POST",data:{url:i}}));case 1:case"end":return t.stop()}},r)})),p.apply(this,arguments)}function l(){return y.apply(this,arguments)}function y(){return y=d()(a()().mark(function r(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("file/count"));case 1:case"end":return n.stop()}},r)})),y.apply(this,arguments)}function x(){return L.apply(this,arguments)}function L(){return L=d()(a()().mark(function r(){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("file/total-size"));case 1:case"end":return n.stop()}},r)})),L.apply(this,arguments)}},5251:function(W,f,e){e.d(f,{Er:function(){return h},p6:function(){return M}});var v=e(27484),a=e.n(v);function j(s){return s.trim()}function h(s){return new URL(s||"",localStorage.getItem("wf_URL")||"").href}function M(s){return s?a()(s).format("DD/MM/YYYY hh:mm:ss"):"-"}var d=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(c){setTimeout(function(){c(!0)},O)})}}}]);
