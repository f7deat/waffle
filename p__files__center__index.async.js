"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4136],{49495:function(W,f){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};f.Z=e},27895:function(W,f,e){e.r(f);var v=e(15009),_=e.n(v),C=e(99289),h=e.n(C),M=e(5574),d=e.n(M),s=e(20385),O=e(55725),m=e(82061),u=e(82826),j=e(63386),b=e(2177),o=e(35312),E=e(14726),P=e(86738),T=e(68872),a=e(78957),y=e(71230),D=e(15746),g=e(67294),p=e(19489),l=e(85893),L=function(){var U=(0,o.useParams)(),t=U.id,i=(0,o.useIntl)(),n=(0,g.useState)(),r=d()(n,2),c=r[0],I=r[1];(0,g.useEffect)(function(){(0,s.Cq)(t).then(function(R){I(R)})},[]);var w=[{title:"#",valueType:"indexBorder"},{title:"Name",dataIndex:"name"},{title:i.formatMessage({id:"general.status"}),dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"",valueType:"option",width:120,render:function(B,A){return[(0,l.jsx)(E.ZP,{icon:(0,l.jsx)(O.Z,{}),type:"primary",onClick:function(){o.history.push("/works/".concat(A.normalizedName.toLocaleLowerCase(),"/").concat(A.id))}},1),(0,l.jsx)(P.Z,{title:"Are you sure?",children:(0,l.jsx)(E.ZP,{icon:(0,l.jsx)(m.Z,{}),type:"primary",danger:!0})},2)]}}],Z=function(){var R=h()(_()().mark(function B(){var A;return _()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,s.Ah)(t);case 2:A=K.sent,A.succeeded?(T.ZP.success(i.formatMessage({id:"general.deleted"})),o.history.back()):T.ZP.error(A.errors[0].description);case 4:case"end":return K.stop()}},B)}));return function(){return R.apply(this,arguments)}}(),F=(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(P.Z,{title:"Are you sure?",onConfirm:Z,children:(0,l.jsx)(E.ZP,{type:"primary",danger:!0,icon:(0,l.jsx)(m.Z,{}),children:"Delete"})}),(0,l.jsx)(E.ZP,{onClick:function(){return o.history.back()},icon:(0,l.jsx)(u.Z,{}),children:(0,l.jsx)(o.FormattedMessage,{id:"general.back"})})]});return(0,l.jsx)(j._z,{title:"Center",extra:F,children:(0,l.jsxs)(y.Z,{gutter:16,children:[(0,l.jsx)(D.Z,{span:8,children:(0,l.jsx)(p.Z,{file:c})}),(0,l.jsx)(D.Z,{span:16,children:(0,l.jsx)(b.Z,{columns:w,request:function(B){return(0,s.z3)(B,{id:t})},rowKey:"id"})})]})})};f.default=L},19489:function(W,f,e){var v=e(5251),_=e(69753),C=e(93410),h=e(35312),M=e(55060),d=e(32983),s=e(14726),O=e(96074),m=e(26412),u=e(85893),j=function(o){var E,P=["image/jpeg","image/png","image/webp",".svg",".jpg",".png",".jpeg"],T=(0,h.useIntl)(),a=o.file,y=function(){o.onChange&&o.onChange()},D=function(){var p;return P.includes((p=a==null?void 0:a.type)!==null&&p!==void 0?p:"")?(0,u.jsx)("div",{className:"flex justify-center items-center",style:{minHeight:130},children:(0,u.jsx)(M.Z,{src:(0,v.Er)(a==null?void 0:a.url)})}):(0,u.jsx)("div",{onClick:y,children:(0,u.jsx)(d.Z,{})})};return(0,u.jsxs)(C.Z,{title:T.formatMessage({id:"general.preview"}),actions:[(0,u.jsx)(s.ZP,{type:"link",onClick:function(){return window.location.href=(0,v.Er)(a==null?void 0:a.url)},icon:(0,u.jsx)(_.Z,{}),children:"Download"},"download")],children:[D(),(0,u.jsx)(O.Z,{}),(0,u.jsxs)(m.Z,{title:"File info",column:1,children:[(0,u.jsx)(m.Z.Item,{label:"Name",children:a==null?void 0:a.name}),(0,u.jsxs)(m.Z.Item,{label:"Size",children:[(((E=a==null?void 0:a.size)!==null&&E!==void 0?E:0)/1024).toFixed(2)," KB"]}),(0,u.jsx)(m.Z.Item,{label:"Type",children:a==null?void 0:a.type})]})]})};f.Z=j},20385:function(W,f,e){e.d(f,{Ah:function(){return u},Cq:function(){return E},V6:function(){return O},kE:function(){return y},p6:function(){return x},tg:function(){return g},yk:function(){return l},z3:function(){return T}});var v=e(15009),_=e.n(v),C=e(97857),h=e.n(C),M=e(99289),d=e.n(M),s=e(35312);function O(t,i,n){return m.apply(this,arguments)}function m(){return m=d()(_()().mark(function t(i,n,r){return _()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,s.request)("file/list",h()({method:"GET",params:h()({type:Object.keys(n!=null?n:[]).length>0?n==null?void 0:n.join(","):""},i)},r||{})));case 1:case"end":return I.stop()}},t)})),m.apply(this,arguments)}function u(t){return j.apply(this,arguments)}function j(){return j=d()(_()().mark(function t(i){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("file/delete-file-content/".concat(i),{method:"POST"}));case 1:case"end":return r.stop()}},t)})),j.apply(this,arguments)}function b(t){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function t(i){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("file/delete-file-item",{method:"POST",data:i}));case 1:case"end":return r.stop()}},t)})),o.apply(this,arguments)}function E(t){return P.apply(this,arguments)}function P(){return P=d()(_()().mark(function t(i){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("file/".concat(i)));case 1:case"end":return r.stop()}},t)})),P.apply(this,arguments)}function T(t,i){return a.apply(this,arguments)}function a(){return a=d()(_()().mark(function t(i,n){return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,s.request)("file/file-items/".concat(n.id)));case 1:case"end":return c.stop()}},t)})),a.apply(this,arguments)}function y(t){return D.apply(this,arguments)}function D(){return D=d()(_()().mark(function t(i){var n;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return n=new FormData,n.append("file",i),c.abrupt("return",(0,s.request)("file/upload",{method:"POST",data:n}));case 3:case"end":return c.stop()}},t)})),D.apply(this,arguments)}function g(t){return p.apply(this,arguments)}function p(){return p=d()(_()().mark(function t(i){return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.request)("file/upload-from-url",{method:"POST",data:{url:i}}));case 1:case"end":return r.stop()}},t)})),p.apply(this,arguments)}function l(){return L.apply(this,arguments)}function L(){return L=d()(_()().mark(function t(){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("file/count"));case 1:case"end":return n.stop()}},t)})),L.apply(this,arguments)}function x(){return U.apply(this,arguments)}function U(){return U=d()(_()().mark(function t(){return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.request)("file/total-size"));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}},5251:function(W,f,e){e.d(f,{Er:function(){return h},p6:function(){return M}});var v=e(27484),_=e.n(v);function C(s){return s.trim()}function h(s){return new URL(s||"",localStorage.getItem("wf_URL")||"").href}function M(s){return s?_()(s).format("DD/MM/YYYY hh:mm:ss"):"-"}var d=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(m){setTimeout(function(){m(!0)},O)})}}}]);
