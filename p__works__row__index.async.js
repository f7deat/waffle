"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[649],{82826:function(K,x,e){e.d(x,{Z:function(){return c}});var u=e(1413),r=e(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},i=D,m=e(91146),O=function(S,d){return r.createElement(m.Z,(0,u.Z)((0,u.Z)({},S),{},{ref:d,icon:i}))},o=r.forwardRef(O),c=o},82061:function(K,x,e){var u=e(1413),r=e(67294),D=e(47046),i=e(91146),m=function(c,Z){return r.createElement(i.Z,(0,u.Z)((0,u.Z)({},c),{},{ref:Z,icon:D.Z}))},O=r.forwardRef(m);x.Z=O},64317:function(K,x,e){var u=e(1413),r=e(91),D=e(22270),i=e(67294),m=e(66758),O=e(53287),o=e(85893),c=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],S=function(f,E){var _=f.fieldProps,R=f.children,a=f.params,s=f.proFieldProps,v=f.mode,t=f.valueEnum,h=f.request,y=f.showSearch,A=f.options,B=(0,r.Z)(f,c),Q=(0,i.useContext)(m.Z);return(0,o.jsx)(O.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,D.h)(t),request:h,params:a,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({options:A,mode:v,showSearch:y,getPopupContainer:Q.getPopupContainer},_),ref:E,proFieldProps:s},B),{},{children:R}))},d=i.forwardRef(function(l,f){var E=l.fieldProps,_=l.children,R=l.params,a=l.proFieldProps,s=l.mode,v=l.valueEnum,t=l.request,h=l.options,y=(0,r.Z)(l,Z),A=(0,u.Z)({options:h,mode:s||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},E),B=(0,i.useContext)(m.Z);return(0,o.jsx)(O.Z,(0,u.Z)((0,u.Z)({valueEnum:(0,D.h)(v),request:t,params:R,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,u.Z)({getPopupContainer:B.getPopupContainer},A),ref:f,proFieldProps:a},y),{},{children:_}))}),T=i.forwardRef(S),p=d,F=T;F.SearchSelect=p,F.displayName="ProFormComponent",x.Z=F},18576:function(K,x,e){e.d(x,{Z:function(){return d}});var u=e(97857),r=e.n(u),D=e(37476),i=e(5966),m=e(98364),O=e(64317),o=e(85893),c=function(p){return(0,o.jsx)(O.Z,{showSearch:!0,request:m.Ef,name:p.name,label:p.label,rules:[{required:!0}]})},Z=c,S=function(p){return(0,o.jsxs)(D.Y,r()(r()({},p),{},{title:"Add component",children:[(0,o.jsx)(i.Z,{name:"name",label:"Name"}),(0,o.jsx)(Z,{name:"componentId",label:"Component"})]}))},d=S},85335:function(K,x,e){var u=e(15009),r=e.n(u),D=e(99289),i=e.n(D),m=e(66352),O=e(93410),o=e(34994),c=e(5966),Z=e(63434),S=e(35312),d=e(68872),T=e(67294),p=e(85893),F=function(){var f=(0,S.useParams)(),E=f.id,_=(0,T.useRef)();(0,T.useEffect)(function(){(0,m.Mk)(E).then(function(a){var s;(s=_.current)===null||s===void 0||s.setFields([{name:"name",value:a.name},{name:"active",value:a.active}])})},[E]);var R=function(){var a=i()(r()().mark(function s(v){var t;return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,m.Qb)(v);case 2:t=y.sent,t.succeeded?d.ZP.success("Saved!"):d.ZP.error(t.errors[0].description);case 4:case"end":return y.stop()}},s)}));return function(v){return a.apply(this,arguments)}}();return(0,p.jsx)(O.Z,{title:"Info",children:(0,p.jsxs)(o.A,{formRef:_,onFinish:R,children:[(0,p.jsx)(c.Z,{hidden:!0,name:"id",initialValue:E}),(0,p.jsx)(c.Z,{name:"name",label:"Name"}),(0,p.jsx)(Z.Z,{name:"active",label:"Active"})]})})};x.Z=F},60168:function(K,x,e){e.r(x),e.d(x,{default:function(){return de}});var u=e(5574),r=e.n(u),D=e(85335),i=e(82826),m=e(63386),O=e(93410),o=e(35312),c=e(14726),Z=e(71230),S=e(15746),d=e(67294),T=e(97857),p=e.n(T),F=e(15009),l=e.n(F),f=e(99289),E=e.n(f),_=e(66352),R=e(47389),a=e(82061),s=e(51042),v=e(62763),t=e(37476),h=e(5966),y=e(64317),A=e(68872),B=e(86738),Q=e(78957),te=e(32983),re=e(18576),n=e(85893),ae=function(){var N=(0,o.useParams)(),L=N.id,U=(0,o.useIntl)(),$=(0,d.useState)([]),I=r()($,2),b=I[0],G=I[1],H=(0,d.useState)(!1),X=r()(H,2),W=X[0],Y=X[1],me=(0,d.useState)(""),q=r()(me,2),ce=q[0],pe=q[1],fe=(0,d.useState)(!1),ee=r()(fe,2),ve=ee[0],J=ee[1],z=function(){(0,_.RI)(L).then(function(j){G(j||[])})};(0,d.useEffect)(function(){L&&z()},[L]);var he=function(){var P=E()(l()().mark(function j(C){var M;return l()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return C.rowId=L,g.next=3,(0,_.Wf)(C);case 3:M=g.sent,M.succeeded?(A.ZP.success("Added!"),J(!1),z()):A.ZP.error(M.errors[0].description);case 5:case"end":return g.stop()}},j)}));return function(C){return P.apply(this,arguments)}}(),Pe=function(){var P=E()(l()().mark(function j(C){var M,w;return l()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return M=p()({active:!0,parentId:ce},C),V.next=3,(0,_.XQ)(M);case 3:w=V.sent,w.succeeded&&(A.ZP.success("Added!"),Y(!1),z());case 5:case"end":return V.stop()}},j)}));return function(C){return P.apply(this,arguments)}}(),ne=function(){var P=E()(l()().mark(function j(C){var M;return l()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,_.Js)(C);case 2:M=g.sent,M.succeeded?(A.ZP.success(U.formatMessage({id:"general.deleted"})),z()):A.ZP.error(M.errors[0].description);case 4:case"end":return g.stop()}},j)}));return function(C){return P.apply(this,arguments)}}(),Ee=function(j){return Number(j.split("-")[2])*2},_e=[{title:"#",dataIndex:"sort",className:"drag-visible",width:20,align:"center"},{title:"Name",dataIndex:"name"},{title:"Status",dataIndex:"active",valueEnum:{false:{text:"Draft",status:"Default"},true:{text:"Active",status:"Processing"}}},{title:"Action",valueType:"option",render:function(j,C){return[(0,n.jsx)(c.ZP,{type:"primary",size:"small",icon:(0,n.jsx)(R.Z,{}),onClick:function(){o.history.push("/works/".concat(C.normalizedName.toLowerCase(),"/").concat(C.id))}},1),(0,n.jsx)(B.Z,{title:"Are you sure?",onConfirm:function(){return ne(C.id)},children:(0,n.jsx)(c.ZP,{icon:(0,n.jsx)(a.Z,{}),danger:!0,size:"small",type:"primary"})},4)]},width:70}],je=function(j,C,M){var w=M.map(function(g){return g.id||""});(0,_.pd)(w).then(function(g){g.succeeded&&(z(),A.ZP.success("Saved!"))})};return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"mb-4 flex justify-end",children:(0,n.jsx)(c.ZP,{icon:(0,n.jsx)(s.Z,{}),type:"primary",onClick:function(){return J(!0)},children:(0,n.jsx)("span",{children:(0,n.jsx)(o.FormattedMessage,{id:"general.new"})})})}),(0,n.jsx)(Z.Z,{gutter:16,children:b.map(function(P,j){return(0,n.jsx)(S.Z,{span:Ee(P.className),children:(0,n.jsx)(O.Z,{title:P.name,bordered:!0,headerBordered:!0,extra:(0,n.jsxs)(Q.Z,{children:[(0,n.jsx)(c.ZP,{type:"primary",icon:(0,n.jsx)(s.Z,{}),onClick:function(){pe(P.id||""),Y(!0)},size:"small"}),(0,n.jsx)(B.Z,{title:"Are you sure?",onConfirm:function(){return ne(P.id)},children:(0,n.jsx)(c.ZP,{type:"primary",danger:!0,icon:(0,n.jsx)(a.Z,{}),size:"small"})})]}),children:P.items&&P.items.length>0?(0,n.jsx)(v.Z,{ghost:!0,search:!1,columns:_e,dataSource:P.items,rowKey:"id",dragSortKey:"sort",onDragSortEnd:je}):(0,n.jsx)(te.Z,{})})},j)})}),(0,n.jsx)(re.Z,{open:W,onOpenChange:Y,onFinish:Pe}),(0,n.jsxs)(t.Y,{open:ve,onOpenChange:J,onFinish:he,children:[(0,n.jsx)(h.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,n.jsx)(y.Z,{label:"Collumn",options:[{label:"col-md-1",value:"col-md-1"},{label:"col-md-2",value:"col-md-2"},{label:"col-md-3",value:"col-md-3"},{label:"col-md-4",value:"col-md-4"},{label:"col-md-5",value:"col-md-5"},{label:"col-md-6",value:"col-md-6"},{label:"col-md-7",value:"col-md-7"},{label:"col-md-8",value:"col-md-8"},{label:"col-md-9",value:"col-md-9"},{label:"col-md-10",value:"col-md-10"},{label:"col-md-11",value:"col-md-11"},{label:"col-md-12",value:"col-md-12"}],name:"className"})]})]})},se=ae,oe=e(34994),le=function(){var N=(0,o.useParams)(),L=N.id,U=(0,d.useRef)();(0,d.useEffect)(function(){(0,_.dM)(L).then(function(I){var b;(b=U.current)===null||b===void 0||b.setFields([{name:"name",value:I.name},{name:"layout",value:I.layout},{name:"className",value:I.className},{name:"gap",value:I.gap}])})},[]);var $=function(){var I=E()(l()().mark(function b(G){var H;return l()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return G.id=L,W.next=3,(0,_.n5)(G);case 3:H=W.sent,H.succeeded&&A.ZP.success("Saved!");case 5:case"end":return W.stop()}},b)}));return function(G){return I.apply(this,arguments)}}();return(0,n.jsxs)(oe.A,{onFinish:$,formRef:U,children:[(0,n.jsx)(h.Z,{name:"name",label:"Name"}),(0,n.jsx)(h.Z,{name:"className",label:"Class name"}),(0,n.jsx)(y.Z,{name:"layout",label:"Layout",options:[{label:"Full width",value:"container-fluid"},{label:"Container",value:"container"}]}),(0,n.jsx)(y.Z,{name:"gap",label:"Gap",options:[{label:"0",value:"gap-0"},{label:"4",value:"gap-4"}]})]})},ue=le,ie=function(){var N=(0,d.useState)("content"),L=r()(N,2),U=L[0],$=L[1];return(0,n.jsx)(m._z,{extra:(0,n.jsx)(c.ZP,{icon:(0,n.jsx)(i.Z,{}),onClick:function(){return o.history.back()},children:(0,n.jsx)("span",{children:(0,n.jsx)(o.FormattedMessage,{id:"general.back"})})}),children:(0,n.jsxs)(Z.Z,{gutter:16,children:[(0,n.jsx)(S.Z,{span:18,children:(0,n.jsx)(O.Z,{tabs:{activeKey:U,items:[{label:"Content",key:"content",children:(0,n.jsx)(se,{})},{label:(0,n.jsx)(o.FormattedMessage,{id:"menu.settings"}),key:"setting",children:(0,n.jsx)(ue,{})}],onChange:function(b){$(b)}}})}),(0,n.jsx)(S.Z,{span:6,children:(0,n.jsx)(D.Z,{})})]})})},de=ie},98364:function(K,x,e){e.d(x,{CO:function(){return T},Ef:function(){return _},KL:function(){return S},Xr:function(){return O},Z:function(){return F},v7:function(){return f}});var u=e(15009),r=e.n(u),D=e(99289),i=e.n(D),m=e(35312);function O(a){return o.apply(this,arguments)}function o(){return o=i()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("component/".concat(s)));case 1:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function c(a){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function a(s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("component/add",{method:"POST",data:s}));case 1:case"end":return t.stop()}},a)})),Z.apply(this,arguments)}function S(a){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("component/update",{method:"POST",data:s}));case 1:case"end":return t.stop()}},a)})),d.apply(this,arguments)}function T(a){return p.apply(this,arguments)}function p(){return p=i()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("component/list",{params:s}));case 1:case"end":return t.stop()}},a)})),p.apply(this,arguments)}function F(a,s){return l.apply(this,arguments)}function l(){return l=i()(r()().mark(function a(s,v){return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,m.request)("component/list-work/".concat(v),{params:s}));case 1:case"end":return h.stop()}},a)})),l.apply(this,arguments)}function f(a){return E.apply(this,arguments)}function E(){return E=i()(r()().mark(function a(s){return r()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("component/delete/".concat(s),{method:"POST"}));case 1:case"end":return t.stop()}},a)})),E.apply(this,arguments)}function _(a){return R.apply(this,arguments)}function R(){return R=i()(r()().mark(function a(s){var v;return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return v={searchTerm:s.keyWords},h.abrupt("return",(0,m.request)("component/form-select",{params:v}));case 2:case"end":return h.stop()}},a)})),R.apply(this,arguments)}}}]);
