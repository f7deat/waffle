"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9319],{82826:function(V,E,e){e.d(E,{Z:function(){return h}});var i=e(1413),t=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},d=R,g=e(91146),j=function(y,A){return t.createElement(g.Z,(0,i.Z)((0,i.Z)({},y),{},{ref:A,icon:d}))},S=t.forwardRef(j),h=S},64317:function(V,E,e){var i=e(1413),t=e(91),R=e(22270),d=e(67294),g=e(66758),j=e(53287),S=e(85893),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],B=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],y=function(o,M){var T=o.fieldProps,F=o.children,O=o.params,c=o.proFieldProps,m=o.mode,x=o.valueEnum,U=o.request,p=o.showSearch,_=o.options,$=(0,t.Z)(o,h),w=(0,d.useContext)(g.Z);return(0,S.jsx)(j.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,R.h)(x),request:U,params:O,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:_,mode:m,showSearch:p,getPopupContainer:w.getPopupContainer},T),ref:M,proFieldProps:c},$),{},{children:F}))},A=d.forwardRef(function(l,o){var M=l.fieldProps,T=l.children,F=l.params,O=l.proFieldProps,c=l.mode,m=l.valueEnum,x=l.request,U=l.options,p=(0,t.Z)(l,B),_=(0,i.Z)({options:U,mode:c||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},M),$=(0,d.useContext)(g.Z);return(0,S.jsx)(j.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,R.h)(m),request:x,params:F,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({getPopupContainer:$.getPopupContainer},_),ref:o,proFieldProps:O},p),{},{children:T}))}),D=d.forwardRef(y),Z=A,C=D;C.SearchSelect=Z,C.displayName="ProFormComponent",E.Z=C},85335:function(V,E,e){var i=e(15009),t=e.n(i),R=e(99289),d=e.n(R),g=e(66352),j=e(93410),S=e(34994),h=e(5966),B=e(63434),y=e(35312),A=e(68872),D=e(67294),Z=e(85893),C=function(){var o=(0,y.useParams)(),M=o.id,T=(0,D.useRef)();(0,D.useEffect)(function(){(0,g.Mk)(M).then(function(O){var c;(c=T.current)===null||c===void 0||c.setFields([{name:"name",value:O.name},{name:"active",value:O.active}])})},[M]);var F=function(){var O=d()(t()().mark(function c(m){var x;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,g.Qb)(m);case 2:x=p.sent,x.succeeded?A.ZP.success("Saved!"):A.ZP.error(x.errors[0].description);case 4:case"end":return p.stop()}},c)}));return function(m){return O.apply(this,arguments)}}();return(0,Z.jsx)(j.Z,{title:"Info",children:(0,Z.jsxs)(S.A,{formRef:T,onFinish:F,children:[(0,Z.jsx)(h.Z,{hidden:!0,name:"id",initialValue:M}),(0,Z.jsx)(h.Z,{name:"name",label:"Name"}),(0,Z.jsx)(B.Z,{name:"active",label:"Active"})]})})};E.Z=C},67486:function(V,E,e){e.r(E),e.d(E,{default:function(){return re}});var i=e(15009),t=e.n(i),R=e(99289),d=e.n(R),g=e(5574),j=e.n(g),S=e(85335),h=e(66352),B=e(63386),y=e(93410),A=e(34994),D=e(5966),Z=e(62763),C=e(35312),l=e(68872),o=e(14726),M=e(86738),T=e(71230),F=e(15746),O=e(83062),c=e(96074),m=e(67294),x=e(47389),U=e(82061),p=e(82826),_=e(51042),$=e(37476),w=e(64317),r=e(85893),q=function(G){var I=function(){var z=d()(t()().mark(function N(P){return t()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:G.onFinish(P);case 1:case"end":return H.stop()}},N)}));return function(P){return z.apply(this,arguments)}}();return(0,r.jsxs)($.Y,{onFinish:I,open:G.open,onOpenChange:G.onOpenChange,children:[(0,r.jsx)(D.Z,{name:"id",hidden:!0}),(0,r.jsx)(D.Z,{name:"name",label:"Name"}),(0,r.jsx)(D.Z,{name:"href",label:"URL",rules:[{required:!0}]}),(0,r.jsx)(w.Z,{name:"target",label:"Target",allowClear:!0,options:[{value:"_blank",label:"Open in new tab"}]})]})},ee=q,Y=e(89575),ne=function(){var G=(0,C.useParams)(),I=G.id,z=(0,m.useState)(),N=j()(z,2),P=N[0],K=N[1],H=(0,m.useState)(),J=j()(H,2),ae=J[0],X=J[1],b=(0,m.useRef)();(0,m.useEffect)(function(){(0,h.Tu)(I).then(function(u){if(u){var s;K(u),X(u.items),(s=b.current)===null||s===void 0||s.setFields([{name:"name",value:u.name}])}})},[I]);var oe=(0,m.useRef)(),se=(0,m.useState)(!1),k=j()(se,2),ie=k[0],Q=k[1],le=function(){var u=d()(t()().mark(function s(a){var n,L,W,v;return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(n=P,!n){f.next=8;break}return L=n.items.filter(function(fe){return fe.id!==a}),n.items=L,f.next=6,(0,h.iH)(I,n);case 6:W=f.sent,W.succeeded&&(l.ZP.success("Deleted!"),K(n),(v=oe.current)===null||v===void 0||v.reload());case 8:case"end":return f.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),ue=function(){var u=d()(t()().mark(function s(a){var n,L,W,v;return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=P,L={id:(0,Y.k)(),link:{href:a.href,name:a.name,target:a.target,id:(0,Y.k)()}},n!=null&&n.items?n==null||(W=n.items)===null||W===void 0||W.push(L):n.items=[L],f.next=5,(0,h.iH)(I,n);case 5:v=f.sent,v.succeeded&&(K(n),l.ZP.success("Added!"),Q(!1));case 7:case"end":return f.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),de=function(){var u=d()(t()().mark(function s(a){var n,L;return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n={name:"",items:[]},P&&(n=P),n.name=a.name,v.next=5,(0,h.iH)(I,n);case 5:L=v.sent,L.succeeded&&(K(n),l.ZP.success("Saved!"));case 7:case"end":return v.stop()}},s)}));return function(a){return u.apply(this,arguments)}}(),me=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",render:function(s,a){var n;return(n=a.link)===null||n===void 0?void 0:n.name}},{title:"Url",render:function(s,a){var n;return(n=a.link)===null||n===void 0?void 0:n.href}},{title:"Action",valueType:"option",render:function(s,a){return[(0,r.jsx)(o.ZP,{type:"primary",icon:(0,r.jsx)(x.Z,{})},1),(0,r.jsx)(M.Z,{title:"Are you sure?",onConfirm:function(){return le(a.id)},children:(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(U.Z,{}),danger:!0,type:"primary"})},4)]}}],ce=function(s){var a=P;a&&(a.items=s),K(a),X(s),l.ZP.success("Saved!")};return(0,r.jsx)(B._z,{title:P==null?void 0:P.name,extra:(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(p.Z,{}),onClick:function(){return history.back()},children:(0,r.jsx)("span",{children:(0,r.jsx)(C.FormattedMessage,{id:"general.back"})})}),children:(0,r.jsxs)(T.Z,{gutter:16,children:[(0,r.jsxs)(F.Z,{span:16,children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(A.A,{formRef:b,onFinish:de,children:[(0,r.jsx)(D.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,r.jsx)(Z.Z,{toolBarRender:function(){return[(0,r.jsx)(O.Z,{title:(0,r.jsx)(C.FormattedMessage,{id:"general.new"}),children:(0,r.jsx)(o.ZP,{type:"link",icon:(0,r.jsx)(_.Z,{}),onClick:function(){return Q(!0)}})},"new")]},rowKey:"id",ghost:!0,columns:me,dataSource:ae,pagination:!1,search:!1,dragSortKey:"sort",onDragSortEnd:ce}),(0,r.jsx)(c.Z,{dashed:!0})]})}),(0,r.jsx)(ee,{open:ie,onOpenChange:Q,onFinish:ue})]}),(0,r.jsx)(F.Z,{span:8,children:(0,r.jsx)(S.Z,{})})]})})},re=ne},89575:function(V,E,e){e.d(E,{k:function(){return i}});function i(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}}]);
