"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9319],{82826:function(K,v,e){e.d(v,{Z:function(){return m}});var s=e(1413),t=e(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},d=_,E=e(91146),f=function(I,S){return t.createElement(E.Z,(0,s.Z)((0,s.Z)({},I),{},{ref:S,icon:d}))},M=t.forwardRef(f),m=M},47389:function(K,v,e){var s=e(1413),t=e(67294),_=e(27363),d=e(91146),E=function(m,A){return t.createElement(d.Z,(0,s.Z)((0,s.Z)({},m),{},{ref:A,icon:_.Z}))},f=t.forwardRef(E);v.Z=f},64317:function(K,v,e){var s=e(1413),t=e(91),_=e(22270),d=e(67294),E=e(66758),f=e(53287),M=e(85893),m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],I=function(o,x){var T=o.fieldProps,F=o.children,C=o.params,h=o.proFieldProps,c=o.mode,R=o.valueEnum,W=o.request,O=o.showSearch,$=o.options,G=(0,t.Z)(o,m),w=(0,d.useContext)(E.Z);return(0,M.jsx)(f.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,_.h)(R),request:W,params:C,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({options:$,mode:c,showSearch:O,getPopupContainer:w.getPopupContainer},T),ref:x,proFieldProps:h},G),{},{children:F}))},S=d.forwardRef(function(l,o){var x=l.fieldProps,T=l.children,F=l.params,C=l.proFieldProps,h=l.mode,c=l.valueEnum,R=l.request,W=l.options,O=(0,t.Z)(l,A),$=(0,s.Z)({options:W,mode:h||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},x),G=(0,d.useContext)(E.Z);return(0,M.jsx)(f.Z,(0,s.Z)((0,s.Z)({valueEnum:(0,_.h)(c),request:R,params:F,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,s.Z)({getPopupContainer:G.getPopupContainer},$),ref:o,proFieldProps:C},O),{},{children:T}))}),Z=d.forwardRef(I),g=S,j=Z;j.SearchSelect=g,j.displayName="ProFormComponent",v.Z=j},85335:function(K,v,e){var s=e(15009),t=e.n(s),_=e(99289),d=e.n(_),E=e(66352),f=e(93410),M=e(34994),m=e(5966),A=e(63434),I=e(35312),S=e(68872),Z=e(67294),g=e(85893),j=function(){var o=(0,I.useParams)(),x=o.id,T=(0,Z.useRef)();(0,Z.useEffect)(function(){(0,E.Mk)(x).then(function(C){var h;(h=T.current)===null||h===void 0||h.setFields([{name:"name",value:C.name},{name:"active",value:C.active}])})},[x]);var F=function(){var C=d()(t()().mark(function h(c){var R;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,E.Qb)(c);case 2:R=O.sent,R.succeeded?S.ZP.success("Saved!"):S.ZP.error(R.errors[0].description);case 4:case"end":return O.stop()}},h)}));return function(c){return C.apply(this,arguments)}}();return(0,g.jsx)(f.Z,{title:"Info",children:(0,g.jsxs)(M.A,{formRef:T,onFinish:F,children:[(0,g.jsx)(m.Z,{hidden:!0,name:"id",initialValue:x}),(0,g.jsx)(m.Z,{name:"name",label:"Name"}),(0,g.jsx)(A.Z,{name:"active",label:"Active"})]})})};v.Z=j},67486:function(K,v,e){e.r(v),e.d(v,{default:function(){return re}});var s=e(15009),t=e.n(s),_=e(99289),d=e.n(_),E=e(5574),f=e.n(E),M=e(85335),m=e(66352),A=e(63386),I=e(93410),S=e(34994),Z=e(5966),g=e(62763),j=e(35312),l=e(68872),o=e(14726),x=e(86738),T=e(71230),F=e(15746),C=e(83062),h=e(96074),c=e(67294),R=e(47389),W=e(82061),O=e(82826),$=e(51042),G=e(37476),w=e(64317),r=e(85893),q=function(N){var y=function(){var z=d()(t()().mark(function H(D){return t()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:N.onFinish(D);case 1:case"end":return V.stop()}},H)}));return function(D){return z.apply(this,arguments)}}();return(0,r.jsxs)(G.Y,{onFinish:y,open:N.open,onOpenChange:N.onOpenChange,children:[(0,r.jsx)(Z.Z,{name:"id",hidden:!0}),(0,r.jsx)(Z.Z,{name:"name",label:"Name"}),(0,r.jsx)(Z.Z,{name:"href",label:"URL",rules:[{required:!0}]}),(0,r.jsx)(w.Z,{name:"target",label:"Target",allowClear:!0,options:[{value:"_blank",label:"Open in new tab"}]})]})},ee=q,Y=e(89575),ne=function(){var N=(0,j.useParams)(),y=N.id,z=(0,c.useState)(),H=f()(z,2),D=H[0],B=H[1],V=(0,c.useState)(),b=f()(V,2),ae=b[0],J=b[1],X=(0,c.useRef)();(0,c.useEffect)(function(){(0,m.Tu)(y).then(function(u){if(u){var i;B(u),J(u.items),(i=X.current)===null||i===void 0||i.setFields([{name:"name",value:u.name}])}})},[y]);var se=(0,c.useRef)(),oe=(0,c.useState)(!1),k=f()(oe,2),ie=k[0],Q=k[1],le=function(){var u=d()(t()().mark(function i(a){var n,L,U,p;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(n=D,!n){P.next=8;break}return L=n.items.filter(function(fe){return fe.id!==a}),n.items=L,P.next=6,(0,m.iH)(y,n);case 6:U=P.sent,U.succeeded&&(l.ZP.success("Deleted!"),B(n),(p=se.current)===null||p===void 0||p.reload());case 8:case"end":return P.stop()}},i)}));return function(a){return u.apply(this,arguments)}}(),ue=function(){var u=d()(t()().mark(function i(a){var n,L,U,p;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return n=D,L={id:(0,Y.k)(),link:{href:a.href,name:a.name,target:a.target,id:(0,Y.k)()}},n!=null&&n.items?n==null||(U=n.items)===null||U===void 0||U.push(L):n.items=[L],P.next=5,(0,m.iH)(y,n);case 5:p=P.sent,p.succeeded&&(B(n),l.ZP.success("Added!"),Q(!1));case 7:case"end":return P.stop()}},i)}));return function(a){return u.apply(this,arguments)}}(),de=function(){var u=d()(t()().mark(function i(a){var n,L;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return n={name:"",items:[]},D&&(n=D),n.name=a.name,p.next=5,(0,m.iH)(y,n);case 5:L=p.sent,L.succeeded&&(B(n),l.ZP.success("Saved!"));case 7:case"end":return p.stop()}},i)}));return function(a){return u.apply(this,arguments)}}(),me=[{title:"#",dataIndex:"sort",className:"drag-visible"},{title:"Name",render:function(i,a){var n;return(n=a.link)===null||n===void 0?void 0:n.name}},{title:"Url",render:function(i,a){var n;return(n=a.link)===null||n===void 0?void 0:n.href}},{title:"Action",valueType:"option",render:function(i,a){return[(0,r.jsx)(o.ZP,{type:"primary",icon:(0,r.jsx)(R.Z,{})},1),(0,r.jsx)(x.Z,{title:"Are you sure?",onConfirm:function(){return le(a.id)},children:(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(W.Z,{}),danger:!0,type:"primary"})},4)]}}],ce=function(i){var a=D;a&&(a.items=i),B(a),J(i),l.ZP.success("Saved!")};return(0,r.jsx)(A._z,{title:D==null?void 0:D.name,extra:(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(O.Z,{}),onClick:function(){return history.back()},children:(0,r.jsx)("span",{children:(0,r.jsx)(j.FormattedMessage,{id:"general.back"})})}),children:(0,r.jsxs)(T.Z,{gutter:16,children:[(0,r.jsxs)(F.Z,{span:16,children:[(0,r.jsx)(I.Z,{children:(0,r.jsxs)(S.A,{formRef:X,onFinish:de,children:[(0,r.jsx)(Z.Z,{name:"name",label:"Name",rules:[{required:!0}]}),(0,r.jsx)(g.Z,{toolBarRender:function(){return[(0,r.jsx)(C.Z,{title:(0,r.jsx)(j.FormattedMessage,{id:"general.new"}),children:(0,r.jsx)(o.ZP,{type:"link",icon:(0,r.jsx)($.Z,{}),onClick:function(){return Q(!0)}})},"new")]},rowKey:"id",ghost:!0,columns:me,dataSource:ae,pagination:!1,search:!1,dragSortKey:"sort",onDragSortEnd:ce}),(0,r.jsx)(h.Z,{dashed:!0})]})}),(0,r.jsx)(ee,{open:ie,onOpenChange:Q,onFinish:ue})]}),(0,r.jsx)(F.Z,{span:8,children:(0,r.jsx)(M.Z,{})})]})})},re=ne},89575:function(K,v,e){e.d(v,{k:function(){return s}});function s(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}}}]);
