"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7980],{82061:function(F,E,e){var d=e(1413),s=e(67294),O=e(47046),a=e(91146),M=function(g,o){return s.createElement(a.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:o,icon:O.Z}))},i=s.forwardRef(M);E.Z=i},47389:function(F,E,e){var d=e(1413),s=e(67294),O=e(27363),a=e(91146),M=function(g,o){return s.createElement(a.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:o,icon:O.Z}))},i=s.forwardRef(M);E.Z=i},51042:function(F,E,e){var d=e(1413),s=e(67294),O=e(42110),a=e(91146),M=function(g,o){return s.createElement(a.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:o,icon:O.Z}))},i=s.forwardRef(M);E.Z=i},5966:function(F,E,e){var d=e(97685),s=e(1413),O=e(91),a=e(21770),M=e(8232),i=e(55241),I=e(97435),g=e(67294),o=e(53287),c=e(85893),B=["fieldProps","proFieldProps"],N=["fieldProps","proFieldProps"],Z="text",V=function(l){var t=l.fieldProps,T=l.proFieldProps,_=(0,O.Z)(l,B);return(0,c.jsx)(o.Z,(0,s.Z)({valueType:Z,fieldProps:t,filedConfig:{valueType:Z},proFieldProps:T},_))},W=function(l){var t=(0,a.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),T=(0,d.Z)(t,2),_=T[0],K=T[1];return(0,c.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(x){var p,U=x.getFieldValue(l.name||[]);return(0,c.jsx)(i.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(n){return n&&n.parentNode?n.parentNode:n},onOpenChange:function(n){return K(n)},content:(0,c.jsxs)("div",{style:{padding:"4px 0"},children:[(p=l.statusRender)===null||p===void 0?void 0:p.call(l,U),l.strengthText?(0,c.jsx)("div",{style:{marginTop:10},children:(0,c.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:_,children:l.children}))}})},G=function(l){var t=l.fieldProps,T=l.proFieldProps,_=(0,O.Z)(l,N),K=(0,g.useState)(!1),R=(0,d.Z)(K,2),x=R[0],p=R[1];return t!=null&&t.statusRender&&_.name?(0,c.jsx)(W,{name:_.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:x,onOpenChange:p,children:(0,c.jsx)("div",{children:(0,c.jsx)(o.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,I.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(P){var n;t==null||(n=t.onBlur)===null||n===void 0||n.call(t,P),p(!1)},onClick:function(P){var n;t==null||(n=t.onClick)===null||n===void 0||n.call(t,P),p(!0)}}),proFieldProps:T,filedConfig:{valueType:Z}},_))})}):(0,c.jsx)(o.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:T,filedConfig:{valueType:Z}},_))},y=V;y.Password=G,y.displayName="ProFormComponent",E.Z=y},85325:function(F,E,e){e.r(E),e.d(E,{default:function(){return w}});var d=e(97857),s=e.n(d),O=e(15009),a=e.n(O),M=e(99289),i=e.n(M),I=e(5574),g=e.n(I),o=e(35312);function c(v){return B.apply(this,arguments)}function B(){return B=i()(a()().mark(function v(m){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("localization/list",{params:m}));case 1:case"end":return r.stop()}},v)})),B.apply(this,arguments)}function N(v){return Z.apply(this,arguments)}function Z(){return Z=i()(a()().mark(function v(m){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("localization/add",{method:"POST",data:m}));case 1:case"end":return r.stop()}},v)})),Z.apply(this,arguments)}function V(v){return W.apply(this,arguments)}function W(){return W=i()(a()().mark(function v(m){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("localization/save",{method:"POST",data:m}));case 1:case"end":return r.stop()}},v)})),W.apply(this,arguments)}function G(v){return y.apply(this,arguments)}function y(){return y=i()(a()().mark(function v(m){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("localization/delete/".concat(m),{method:"POST"}));case 1:case"end":return r.stop()}},v)})),y.apply(this,arguments)}var z=e(47389),l=e(82061),t=e(51042),T=e(63386),_=e(2177),K=e(37476),R=e(5966),x=e(68872),p=e(14726),U=e(86738),P=e(67294),n=e(85893),X=function(){var m=(0,P.useRef)(),j=(0,P.useRef)(),r=(0,P.useState)(!1),Y=g()(r,2),b=Y[0],$=Y[1],k=(0,P.useState)(),H=g()(k,2),L=H[0],Q=H[1],q=function(){var u;(u=m.current)===null||u===void 0||u.resetFields(),Q(null),$(!0)};(0,P.useEffect)(function(){if(L){var h;(h=m.current)===null||h===void 0||h.setFields([{name:"id",value:L.id},{name:"key",value:L.key},{name:"value",value:L.value}])}},[JSON.stringify(L)]);var ee=function(u){Q(u),$(!0)},ne=function(){var h=i()(a()().mark(function u(f){var C,A;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,G(f);case 2:C=S.sent,C.succeeded&&(x.ZP.success("Deleted!"),(A=j.current)===null||A===void 0||A.reload());case 4:case"end":return S.stop()}},u)}));return function(f){return h.apply(this,arguments)}}(),te=[{title:"#",valueType:"indexBorder"},{title:"Key",dataIndex:"key"},{title:"Value",dataIndex:"value"},{title:"",valueType:"option",render:function(u,f){return[(0,n.jsx)(p.ZP,{icon:(0,n.jsx)(z.Z,{}),size:"small",type:"primary",onClick:function(){return ee(f)}},1),(0,n.jsx)(U.Z,{title:"Are you sure?",onConfirm:function(){return ne(f.id)},children:(0,n.jsx)(p.ZP,{icon:(0,n.jsx)(l.Z,{}),type:"primary",size:"small",danger:!0})},2)]},width:80}],re=function(){var h=i()(a()().mark(function u(f){var C,A,J;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(f.id){D.next=7;break}return D.next=3,N(f);case 3:A=D.sent,A.succeeded&&x.ZP.success("Saved!"),D.next=11;break;case 7:return D.next=9,V(f);case 9:J=D.sent,J.succeeded&&x.ZP.success("Saved!");case 11:$(!1),(C=j.current)===null||C===void 0||C.reload();case 13:case"end":return D.stop()}},u)}));return function(f){return h.apply(this,arguments)}}();return(0,n.jsxs)(T._z,{extra:(0,n.jsx)(p.ZP,{type:"primary",className:"flex gap-2 items-center",icon:(0,n.jsx)(t.Z,{}),onClick:q,children:(0,n.jsx)(o.FormattedMessage,{id:"general.new"})}),children:[(0,n.jsx)(_.Z,{rowSelection:{},actionRef:j,columns:te,request:function(u){var f=(0,o.getLocale)();return c(s()({locale:f},u))},rowKey:"id",search:{layout:"vertical"},pagination:{defaultPageSize:10,showSizeChanger:!0}}),(0,n.jsxs)(K.Y,{title:(0,n.jsx)(o.FormattedMessage,{id:"menu.settings.localization"}),formRef:m,open:b,onOpenChange:$,onFinish:re,children:[(0,n.jsx)(R.Z,{name:"id",hidden:!0}),(0,n.jsx)(R.Z,{name:"key",label:"Key",disabled:L,rules:[{required:!0}]}),(0,n.jsx)(R.Z,{name:"value",label:"Value",rules:[{required:!0}]})]})]})},w=X}}]);
